if (self.CavalryLogger) { CavalryLogger.start_js(["8378f"]); }

__d("CometFeedStoryPrivacySelectorStrategy_audience$normalization.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},b={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null};return{kind:"SplitOperation",name:"CometFeedStoryPrivacySelectorStrategy_audience$normalization",metadata:{derivedFrom:"CometFeedStoryPrivacySelectorStrategy_audience"},selections:[a,{kind:"ScalarField",alias:null,name:"is_prod_eligible",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"story",storageKey:null,args:null,concreteType:"Story",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"privacy_scope",storageKey:null,args:null,concreteType:"PrivacyScope",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"privacy_scope_renderer",storageKey:'privacy_scope_renderer(supported:["PrivacyScopeEditableRenderer","PrivacyScopeUneditableRenderer"])',args:[{kind:"Literal",name:"supported",value:["PrivacyScopeEditableRenderer","PrivacyScopeUneditableRenderer"]}],concreteType:null,plural:!1,selections:[a,{kind:"InlineFragment",type:"PrivacyScopeEditableRenderer",selections:[{kind:"ModuleImport",documentName:"CometPrivacySelectorForScope_scope",fragmentName:"CometPrivacySelectorEditable_renderer",fragmentPropName:"renderer"}]},{kind:"InlineFragment",type:"PrivacyScopeUneditableRenderer",selections:[{kind:"ModuleImport",documentName:"CometPrivacySelectorForScope_scope",fragmentName:"CometPrivacySelectorUneditable_renderer",fragmentPropName:"renderer"}]},b]}]},b]}]}}();e.exports=a}),null);
__d("CometFeedStoryPrivacySelectorStrategy_audience.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"Fragment",name:"CometFeedStoryPrivacySelectorStrategy_audience",type:"CometFeedStoryPrivacySelectorStrategy",metadata:null,argumentDefinitions:[],selections:[{kind:"LinkedField",alias:null,name:"story",storageKey:null,args:null,concreteType:"Story",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"privacy_scope",storageKey:null,args:null,concreteType:"PrivacyScope",plural:!1,selections:[{kind:"FragmentSpread",name:"CometPrivacySelectorForScope_scope",args:[{kind:"Literal",name:"renderLocation",value:"COMET_STREAM"}]}]}]},{kind:"FragmentSpread",name:"useCometFeedStoryMatchDebugger_iCometStorySection",args:null}]};e.exports=a}),null);
__d("CometPrivacyIcon_scope.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"Fragment",name:"CometPrivacyIcon_scope",type:"PrivacyScope",metadata:null,argumentDefinitions:[{kind:"RootArgument",name:"scale",type:"Float"}],selections:[{kind:"ScalarField",alias:null,name:"label",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"icon_image",storageKey:null,args:[{kind:"Variable",name:"scale",variableName:"scale"}],concreteType:"Image",plural:!1,selections:[{kind:"FragmentSpread",name:"useCometPrivacyIcon_image",args:null}]}]};e.exports=a}),null);
__d("useCometPrivacySelectorNotifyPrivacyOnInitEffect_renderer.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"Fragment",name:"useCometPrivacySelectorNotifyPrivacyOnInitEffect_renderer",type:"PrivacySelectorRenderer",metadata:null,argumentDefinitions:[],selections:[{kind:"LinkedField",alias:null,name:"privacy_row_input",storageKey:null,args:null,concreteType:"PrivacyRowInput",plural:!1,selections:[{kind:"FragmentSpread",name:"PrivacyRowInput_fragment",args:null}]}]};e.exports=a}),null);
__d("useCometPrivacySelectorOnRowInputMismatchEffect_renderer.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={kind:"LinkedField",alias:null,name:"privacy_row_input",storageKey:null,args:null,concreteType:"PrivacyRowInput",plural:!1,selections:[{kind:"FragmentSpread",name:"PrivacyRowInput_fragment",args:null}]};return{kind:"Fragment",name:"useCometPrivacySelectorOnRowInputMismatchEffect_renderer",type:"PrivacySelectorRenderer",metadata:null,argumentDefinitions:[{kind:"LocalArgument",name:"localPrivacyRow",type:"PrivacyRowInputObject",defaultValue:null},{kind:"LocalArgument",name:"renderLocation",type:"PrivacySelectorRenderLocation!",defaultValue:null},{kind:"LocalArgument",name:"tags",type:"[ID!]",defaultValue:null}],selections:[a,{kind:"LinkedField",alias:"scope",name:"privacy_scope_for_location",storageKey:null,args:[{kind:"Variable",name:"render_location",variableName:"renderLocation"},{kind:"Variable",name:"selected_override",variableName:"localPrivacyRow"},{kind:"Variable",name:"tags",variableName:"tags"}],concreteType:"PrivacyScope",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"selected_option",storageKey:null,args:null,concreteType:"PrivacyOption",plural:!1,selections:[a]}]}]}}();e.exports=a}),null);
__d("useCometPrivacySelectorPushView_scope.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"Fragment",name:"useCometPrivacySelectorPushView_scope",type:"PrivacyScope",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"privacy_write_id",args:null,storageKey:null},{kind:"FragmentSpread",name:"useCometPrivacySelectorCanOpenSelector_scope",args:null}]};e.exports=a}),null);
__d("CometPrivacySelectorEditableQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LocalArgument",name:"tags",type:"[ID!]",defaultValue:null},{kind:"LocalArgument",name:"localPrivacyRow",type:"PrivacyRowInputObject",defaultValue:null},{kind:"LocalArgument",name:"privacySelectorRenderLocation",type:"PrivacySelectorRenderLocation!",defaultValue:null},{kind:"LocalArgument",name:"scale",type:"Float",defaultValue:null},{kind:"LocalArgument",name:"id",type:"ID!",defaultValue:null}],b=[{kind:"Variable",name:"id",variableName:"id"}],c={kind:"Variable",name:"tags",variableName:"tags"},d={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},e={kind:"LinkedField",alias:null,name:"privacy_row_input",storageKey:null,args:null,concreteType:"PrivacyRowInput",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"allow",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"base_state",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"deny",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"tag_expansion_state",args:null,storageKey:null}]};return{kind:"Request",fragment:{kind:"Fragment",name:"CometPrivacySelectorEditableQuery",type:"Query",metadata:null,argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:b,concreteType:null,plural:!1,selections:[{kind:"FragmentSpread",name:"CometPrivacySelectorEditable_renderer",args:[{kind:"Variable",name:"localPrivacyRow",variableName:"localPrivacyRow"},c]}]}]},operation:{kind:"Operation",name:"CometPrivacySelectorEditableQuery",argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:b,concreteType:null,plural:!1,selections:[{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},d,{kind:"InlineFragment",type:"PrivacyScopeEditableRenderer",selections:[e,{kind:"LinkedField",alias:"scope",name:"privacy_scope_for_location",storageKey:null,args:[{kind:"Variable",name:"render_location",variableName:"privacySelectorRenderLocation"},{kind:"Variable",name:"selected_override",variableName:"localPrivacyRow"},c],concreteType:"PrivacyScope",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"selected_option",storageKey:null,args:null,concreteType:"PrivacyOption",plural:!1,selections:[e,d,{kind:"ScalarField",alias:null,name:"current_tag_expansion",args:null,storageKey:null}]},{kind:"ScalarField",alias:null,name:"label",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"icon_image",storageKey:null,args:[{kind:"Variable",name:"scale",variableName:"scale"}],concreteType:"Image",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"height",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"scale",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"uri",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"width",args:null,storageKey:null}]},{kind:"ScalarField",alias:null,name:"show_tag_expansion_options",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"description",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"can_viewer_edit",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"privacy_write_id",args:null,storageKey:null}]}]}]}]},params:{operationKind:"query",name:"CometPrivacySelectorEditableQuery",id:"3449129098437144",text:null,metadata:{derivedFrom:"CometPrivacySelectorEditable_renderer",isRefetchableQuery:!0}}}}();e.exports=a}),null);
__d("CometPrivacySelectorEditable_renderer$normalization.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={kind:"LinkedField",alias:null,name:"privacy_row_input",storageKey:null,args:null,concreteType:"PrivacyRowInput",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"allow",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"base_state",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"deny",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"tag_expansion_state",args:null,storageKey:null}]},b={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null};return{kind:"SplitOperation",name:"CometPrivacySelectorEditable_renderer$normalization",metadata:{derivedFrom:"CometPrivacySelectorEditable_renderer"},selections:[a,{kind:"LinkedField",alias:"scope",name:"privacy_scope_for_location",storageKey:null,args:[{kind:"Variable",name:"render_location",variableName:"privacySelectorRenderLocation"}],concreteType:"PrivacyScope",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"selected_option",storageKey:null,args:null,concreteType:"PrivacyOption",plural:!1,selections:[a,b,{kind:"ScalarField",alias:null,name:"current_tag_expansion",args:null,storageKey:null}]},{kind:"ScalarField",alias:null,name:"label",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"icon_image",storageKey:null,args:[{kind:"Variable",name:"scale",variableName:"scale"}],concreteType:"Image",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"height",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"scale",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"uri",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"width",args:null,storageKey:null}]},{kind:"ScalarField",alias:null,name:"show_tag_expansion_options",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"description",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"can_viewer_edit",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"privacy_write_id",args:null,storageKey:null}]},b]}}();e.exports=a}),null);
__d("CometPrivacySelectorEditable_renderer.graphql",["CometPrivacySelectorEditableQuery.graphql"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={kind:"Variable",name:"tags",variableName:"tags"};return{kind:"Fragment",name:"CometPrivacySelectorEditable_renderer",type:"PrivacyScopeEditableRenderer",metadata:{refetch:{connection:null,operation:b("CometPrivacySelectorEditableQuery.graphql"),fragmentPathInResult:["node"]}},argumentDefinitions:[{kind:"LocalArgument",name:"tags",type:"[ID!]",defaultValue:null},{kind:"LocalArgument",name:"localPrivacyRow",type:"PrivacyRowInputObject",defaultValue:null},{kind:"RootArgument",name:"privacySelectorRenderLocation",type:"PrivacySelectorRenderLocation!"},{kind:"RootArgument",name:"scale",type:"Float"}],selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"LinkedField",alias:"scope",name:"privacy_scope_for_location",storageKey:null,args:[{kind:"Variable",name:"render_location",variableName:"privacySelectorRenderLocation"},{kind:"Variable",name:"selected_override",variableName:"localPrivacyRow"},a],concreteType:"PrivacyScope",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"can_viewer_edit",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"description",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"privacy_write_id",args:null,storageKey:null},{kind:"FragmentSpread",name:"CometPrivacyIcon_scope",args:null},{kind:"FragmentSpread",name:"CometPrivacySelectorLabel_scope",args:null},{kind:"FragmentSpread",name:"CometPrivacySelectorTooltip_scope",args:null},{kind:"FragmentSpread",name:"useCometPrivacySelectorDialog_scope",args:null},{kind:"FragmentSpread",name:"useCometPrivacySelectorPushView_scope",args:null}]},{kind:"FragmentSpread",name:"useCometPrivacySelectorNotifyPrivacyOnInitEffect_renderer",args:null},{kind:"FragmentSpread",name:"useCometPrivacySelectorOnRowInputMismatchEffect_renderer",args:[{kind:"Variable",name:"localPrivacyRow",variableName:"localPrivacyRow"},{kind:"Variable",name:"renderLocation",variableName:"privacySelectorRenderLocation"},a]}]}}();e.exports=a}),null);
__d("CometPrivacySelectorLabel_scope.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"Fragment",name:"CometPrivacySelectorLabel_scope",type:"PrivacyScope",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"label",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"selected_option",storageKey:null,args:null,concreteType:"PrivacyOption",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"current_tag_expansion",args:null,storageKey:null}]},{kind:"ScalarField",alias:null,name:"show_tag_expansion_options",args:null,storageKey:null}]};e.exports=a}),null);
__d("CometPrivacySelectorTooltip_scope.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"Fragment",name:"CometPrivacySelectorTooltip_scope",type:"PrivacyScope",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"description",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"label",args:null,storageKey:null}]};e.exports=a}),null);
__d("CometFeedStoryPrivacySelectorStrategy.react",["CometFeedStoryMetaSectionMiddot.react","CometFeedStoryRenderLocationContext","CometPrivacySelectorForScope.react","CometRelay","React","useCometFeedStoryMatchDebugger","CometFeedStoryPrivacySelectorStrategy_audience.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;b("CometRelay").graphql;var h=b("CometRelay").useFragment,i=b("React").useContext;function a(a){var c=a.audience;a=a.privacySelectorRenderLocation;c=h(g!==void 0?g:g=b("CometFeedStoryPrivacySelectorStrategy_audience.graphql"),c);var d=i(b("CometFeedStoryRenderLocationContext"));d=d.storyRenderLocation;b("useCometFeedStoryMatchDebugger")(c);return b("React").jsxs(b("React").Fragment,{children:[b("React").jsx(b("CometFeedStoryMetaSectionMiddot.react"),{}),b("React").jsx(b("CometPrivacySelectorForScope.react"),{renderLocation:(a=a)!=null?a:"COMET_STREAM",scope:c==null?void 0:(a=c.story)==null?void 0:a.privacy_scope,storyRenderLocation:d})]})}e.exports=a}),null);
__d("CometPrivacyIcon.react",["CometRelay","React","TetraIcon.react","stylex","useCometPrivacyIcon","CometPrivacyIcon_scope.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;b("CometRelay").graphql;var h=b("CometRelay").useFragment,i=b("useCometPrivacyIcon").useCometPrivacyIcon;function a(a){__p&&__p();var c=a.color;c=c===void 0?"secondary":c;var d=a.disabled;d=d===void 0?!1:d;var e=a.marginEnd;a=a.scope;a=h(g!==void 0?g:g=b("CometPrivacyIcon_scope.graphql"),a);var f=a.icon_image;a=a.label;f=i(f);return f==null?null:b("React").jsx("div",{className:"taijpn5t pq6dq46d bp9cbjyn"+(e===4?" cgat1ltu":""),children:b("React").jsx(b("TetraIcon.react"),{alt:(e=a)!=null?e:"",color:d?"disabled":c,disabled:d,icon:f})})}e.exports=a}),null);
__d("CometPrivacySelectorButton.react",["CometButtonStyles_DEPRECATED.react","CometPressable.react","React"],(function(a,b,c,d,e,f){"use strict";function a(a,c){var d=a.children,e=babelHelpers.objectWithoutPropertiesLoose(a,["children"]);return b("React").jsx(b("CometButtonStyles_DEPRECATED.react"),{deemphasized:!1,disabled:a.disabled,expanded:!1,shadow:!1,size:"medium",use:"secondary",children:function(a){return b("React").jsx(b("CometPressable.react"),babelHelpers["extends"]({},e,{display:"inline",overlayDisabled:!0,ref:c,xstyle:a,children:d}))}})}e.exports=b("React").forwardRef(a)}),null);
__d("useCometPrivacySelectorNotifyPrivacyOnInitEffect",["CometRelay","PrivacyRowInput","React","useCometPrivacySelectorNotifyPrivacyOnInitEffect_renderer.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;b("CometRelay").graphql;var h=b("CometRelay").useFragment,i=b("PrivacyRowInput").usePrivacyRowInput,j=b("React").useEffect;function a(a,c){a=h(g!==void 0?g:g=b("useCometPrivacySelectorNotifyPrivacyOnInitEffect_renderer.graphql"),a);var d=i(a.privacy_row_input);j(function(){c&&c({privacyRowInput:d,type:"init"})},[c])}e.exports=a}),null);
__d("useCometPrivacySelectorOnRowInputMismatchEffect",["CometPrivacySelectorContext","CometRelay","PrivacyRowInput","React","useCometPrivacySelectorOnRowInputMismatchEffect_renderer.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;b("CometRelay").graphql;var h=b("CometRelay").useFragment,i=b("PrivacyRowInput").arePrivacyRowInputsEqual,j=b("PrivacyRowInput").usePrivacyRowInput,k=(c=b("React")).useCallback,l=c.useContext,m=c.useEffect,n=c.useRef,o=function(){};function a(a,c){__p&&__p();a=h(g!==void 0?g:g=b("useCometPrivacySelectorOnRowInputMismatchEffect_renderer.graphql"),a);var d=l(b("CometPrivacySelectorContext")),e=d[0].localPrivacyRow,f=n(e),p=j(a.privacy_row_input),q=j((d=a.scope)==null?void 0:(a=d.selected_option)==null?void 0:a.privacy_row_input),r=k(function(){var a=c();return function(){a&&a.dispose()}},[c]);m(function(){var a=f.current;f.current=e;if(e!=null)return e===a?o:r();return i(p,q)?o:r()},[q,e,r,p])}e.exports=a}),null);
__d("useCometPrivacySelectorOnTagsChangedEffect",["React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("React").useEffect,h=b("React").useRef;function i(a,b){if(a==null&&b==null)return!0;if(a==null||b==null)return!1;if(a.length!==b.length)return!1;var c=new Set(b);return a.every(function(a){return c.has(a)})}function a(a,b){var c=h(a);g(function(){var d=c.current;if(i(a,d))return;c.current=a;var e=b();return function(){e&&e.dispose()}},[b,a])}e.exports=a}),null);
__d("useCometPrivacySelectorPushView",["fbt","CometPlaceholder.react","CometProgressIndicator.react","CometRelay","JSResource","React","lazyLoadComponent","stylex","useCometPrivacySelectorCanOpenSelector","useCometInteractionTracing","useCometPrivacySelectorPushView_scope.graphql"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;b("CometRelay").graphql;var i=b("CometRelay").useFragment,j=b("React").useCallback,k=b("React").useMemo,l=b("React").useRef,m=b("lazyLoadComponent")(b("JSResource")("CometPrivacySelectorPushView.react").__setRef("useCometPrivacySelectorPushView"));function a(a,c,d,e){__p&&__p();a=i(h!==void 0?h:h=b("useCometPrivacySelectorPushView_scope.graphql"),a);var f=a==null?void 0:a.privacy_write_id,n=b("useCometPrivacySelectorCanOpenSelector")(a),o=l(!1),p=c.pushPage,q=b("useCometInteractionTracing")(30605326,"responsive","INTERACTION"),r=j(function(){if(f==null||p==null)return;q(function(a){a.onComplete(function(){o.current?a.addMetadata("revisit",1):o.current=!0}),p(function(a){var g;a=a.onReturn;return(g=b("React")).jsx(b("CometPlaceholder.react"),{fallback:g.jsx("div",{className:"oh7imozk taijpn5t jlycob7n j83agx80 bp9cbjyn",children:g.jsx(b("CometProgressIndicator.react"),{})}),children:g.jsx(m,babelHelpers["extends"]({dispatch:e,onClose:a,privacyWriteID:f,state:d},c))})},{title:g._("\u0e40\u0e25\u0e37\u0e2d\u0e01\u0e04\u0e27\u0e32\u0e21\u0e40\u0e1b\u0e47\u0e19\u0e2a\u0e48\u0e27\u0e19\u0e15\u0e31\u0e27")})})},[e,c,f,p,d,q]);return k(function(){return n?r:null},[n,r])}e.exports=a}),null);
__d("CometPrivacySelectorStyles",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a!=="COMET_STREAM"&&a!=="COMET_MEDIA_VIEWER"&&a!=="COMET_PROFILE_ABOUT_PAGE_INLINE"&&a!=="COMET_PROFILE_COLLECTIONS"}function b(a){return a!=="COMET_STREAM"&&a!=="COMET_MEDIA_VIEWER"&&a!=="COMET_PROFILE_ABOUT_PAGE_INLINE"&&a!=="COMET_PROFILE_COLLECTIONS"}e.exports={shouldShowAsButton:a,shouldShowLabel:b}}),null);
__d("CometPrivacySelectorLabel.react",["CometPrivacySelectorHelpers","CometRelay","React","stylex","CometPrivacySelectorLabel_scope.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("CometPrivacySelectorHelpers").getTagExpandedLabel,i=b("CometPrivacySelectorHelpers").hasTagExpansion;b("CometRelay").graphql;var j=b("CometRelay").useFragment;function a(a){__p&&__p();var c=a.scope;a.tags;a=j(g!==void 0?g:g=b("CometPrivacySelectorLabel_scope.graphql"),c);c=a.label;var d=a.selected_option;a=a.show_tag_expansion_options;if(c==null)return null;a=i(a,d==null?void 0:d.current_tag_expansion);return b("React").jsx("span",{className:"l3itjdph cgat1ltu",children:a?h(c):c})}e.exports=a}),null);
__d("CometPrivacySelectorTooltip.react",["fbt","CometPrivacySelectorStyles","CometRelay","CometTooltip.react","React","CometPrivacySelectorTooltip_scope.graphql"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("CometPrivacySelectorStyles").shouldShowLabel;b("CometRelay").graphql;var j=b("CometRelay").useFragment;function k(){return g._("\u0e01\u0e33\u0e25\u0e31\u0e07\u0e42\u0e2b\u0e25\u0e14...")}function a(a){var c=a.children,d=a.isLoading,e=a.renderLocation;a=a.scope;a=j(h!==void 0?h:h=b("CometPrivacySelectorTooltip_scope.graphql"),a);var f=a.description;a=a.label;return i(e)&&f===a?c:b("React").jsx(b("CometTooltip.react"),{tooltip:d?b("React").jsx(k,{}):f,children:c})}e.exports=a}),null);
__d("CometPrivacySelectorEditable.react",["fbt","CometFeatureKillswitch.react","CometPressable.react","CometPrivacyIcon.react","CometPrivacySelectorButton.react","CometPrivacySelectorContext","CometPrivacySelectorEditableQuery.graphql","CometPrivacySelectorLabel.react","CometPrivacySelectorStyles","CometPrivacySelectorTooltip.react","CometProgressIndicator.react","CometRelay","CometTrackingNodeProvider.react","JSScheduler","React","WebPixelRatio","gkx","stylex","unrecoverableViolation","useCometPrivacySelectorDialog","useCometPrivacySelectorNotifyPrivacyOnInitEffect","useCometPrivacySelectorOnRowInputMismatchEffect","useCometPrivacySelectorOnTagsChangedEffect","useCometPrivacySelectorPushView","CometPrivacySelectorEditable_renderer.graphql"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=b("CometPrivacySelectorStyles").shouldShowAsButton,k=b("CometPrivacySelectorStyles").shouldShowLabel,l=(c=b("CometRelay")).fetchQuery;c.graphql;var m=c.useRefetchableFragment,n=c.useRelayEnvironment,o=(d=b("React")).useCallback,p=d.useContext,q=d.useRef,r=d.useState,s={centerContent:{alignItems:"bp9cbjyn",display:"j83agx80",justifyContent:"taijpn5t"},hiddenLabel:{clip:"q45zohi1",clipPath:"g0aa4cga",position:"pmk7jnqg"},invisible:{visibility:"kr9hpln1"},marginFixer:{marginStart:"rl04r1d5"},overlay:{bottom:"i09qtzwb",end:"n7fi1qx3",overflowX:"ni8dbmo4",overflowY:"stjgntxs",position:"pmk7jnqg",start:"j9ispegn",top:"kr520xx4"},pressableOverlayPressed:{backgroundColor:"sx5rzos5"},pressablePosition:{position:"hwddc3l5"},savingOverlayContainer:{position:"l9j0dhe7"}};function t(a){a=a.isSaving;return!a?null:b("React").jsx("div",{className:(i||(i=b("stylex")))(s.overlay,s.centerContent),children:b("React").jsx(b("CometProgressIndicator.react"),{})})}function u(a){__p&&__p();var c=a.description,d=a.isSaving,e=a.scope;a=babelHelpers.objectWithoutPropertiesLoose(a,["description","isSaving","scope"]);var f=p(b("CometPrivacySelectorContext")),h=f[0];f=f[1];var l=b("useCometPrivacySelectorDialog")(e,a,h,f),m=l[0];l=l[1];h=b("useCometPrivacySelectorPushView")(e,a,h,f);f=a.enabled;var n=a.renderLocation,o=a.tags;f=d||m==null||f===!1;e=b("React").jsxs("div",{className:(i||(i=b("stylex")))(s.centerContent,d?s.invisible:null),children:[b("React").jsx(b("CometPrivacyIcon.react"),{disabled:f,marginEnd:4,scope:e}),k(n)&&b("React").jsx(b("CometPrivacySelectorLabel.react"),{scope:e,tags:o}),b("React").jsx("div",{className:i(s.marginFixer)})]});o=c!=null?b("React").jsx("span",{className:(i||(i=b("stylex")))(s.hiddenLabel),children:g._("{privacy label}",[g._param("privacy label",c)])}):null;c=g._("\u0e41\u0e01\u0e49\u0e44\u0e02\u0e04\u0e27\u0e32\u0e21\u0e40\u0e1b\u0e47\u0e19\u0e2a\u0e48\u0e27\u0e19\u0e15\u0e31\u0e27");if(!j(n)){return b("React").jsx(b("CometTrackingNodeProvider.react"),{trackingNode:29,children:b("React").jsxs("span",{className:(i||(i=b("stylex")))(s.savingOverlayContainer),children:[o,b("React").jsxs(b("CometPressable.react"),{"aria-label":c,disabled:f,display:"inline",onPress:(n=m)!=null?n:void 0,overlayOffset:4,overlayPressedStyle:s.pressableOverlayPressed,overlayRadius:"50%",ref:l,xstyle:s.pressablePosition,children:[b("React").jsx(t,{isSaving:d}),e]})]})})}return b("React").jsx(b("CometTrackingNodeProvider.react"),{trackingNode:29,children:b("React").jsxs("span",{className:i(s.savingOverlayContainer),children:[o,b("React").jsxs(b("CometPrivacySelectorButton.react"),{"aria-label":c,disabled:f,onPress:a.pushPage!=null?h:m,ref:l,children:[b("React").jsx(t,{isSaving:d}),e]})]})})}function a(a){__p&&__p();var c=a.onPrivacyChange,d=a.onPrivacyChangeStart,e=a.renderer;a=babelHelpers.objectWithoutPropertiesLoose(a,["onPrivacyChange","onPrivacyChangeStart","renderer"]);var f=a.renderLocation,g=a.tags;e=m(h!==void 0?h:h=b("CometPrivacySelectorEditable_renderer.graphql"),e);var i=e[0],j=e[1],k=i.id;e=i.scope;b("useCometPrivacySelectorNotifyPrivacyOnInitEffect")(i,c);var s=r(!1),t=s[0],v=s[1],w=q(!1);s=t||w.current;var x=p(b("CometPrivacySelectorContext")),y=x[0].localPrivacyRow,z=n(),A=o(function(){__p&&__p();if(k==null)return;if(t){w.current=!0;return}var a={id:k,localPrivacyRow:y,privacySelectorRenderLocation:f,scale:b("WebPixelRatio").get(),tags:g},c=null,d=null;b("JSScheduler").next(function(){c=l(z,b("CometPrivacySelectorEditableQuery.graphql"),a).subscribe({complete:function(){w.current=!1,d=j(a,{fetchPolicy:"store-only"})}})});return{dispose:function(){c&&c.unsubscribe(),d&&d.dispose()}}},[z,k,t,y,j,f,g]);b("useCometPrivacySelectorOnTagsChangedEffect")(g,A);b("useCometPrivacySelectorOnRowInputMismatchEffect")(i,A);x=o(function(a){v(!0),d&&d(a)},[d]);i=o(function(a){v(!1),w.current&&A(),c&&c(a)},[c,A]);if(e==null)throw b("unrecoverableViolation")("Failed to render privacy selector. No scope was received.","comet_privacy_selector");var B=e.can_viewer_edit,C=e.description,D=e.privacy_write_id;if(B!==!0)throw b("unrecoverableViolation")("Trying to render an editable Privacy Selector that the user cannot edit","comet_privacy_selector");if(D==null)throw b("unrecoverableViolation")("Trying to render an editable Privacy Selector without a write ID","comet_privacy_selector");B=b("React").jsx(u,babelHelpers["extends"]({description:C,isSaving:s,onPrivacyChange:i,onPrivacyChangeStart:x,scope:e},a));return b("React").jsx(b("CometFeatureKillswitch.react"),{enableFeature:b("gkx")("972172"),fallback:B,children:b("React").jsx(b("CometPrivacySelectorTooltip.react"),{isLoading:s,renderLocation:f,scope:e,children:B})})}e.exports=a}),null);