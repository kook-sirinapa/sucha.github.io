if (self.CavalryLogger) { CavalryLogger.start_js(["DK9gL"]); }

__d("XCometMessengerControllerRouteBuilder",["cometRouteBuilder"],(function(a,b,c,d,e,f){a=b("cometRouteBuilder")("/messages/t/{?thread_key}/",Object.freeze({}),void 0);e.exports=a}),null);
__d("XCometWorkChatControllerRouteBuilder",["cometRouteBuilder"],(function(a,b,c,d,e,f){a=b("cometRouteBuilder")("/chat/t/{?thread_key}/",Object.freeze({}),void 0);e.exports=a}),null);
__d("MWChatStateStore.bs",["bs_curry","bs_js_dict","bs_caml_option","getPlainTextFromDeferredDraftEditorState"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){__p&&__p();var c={},d=function(d,e){__p&&__p();if(b("getPlainTextFromDeferredDraftEditorState")(e.editorState).length>0){d=b("bs_curry")._1(a.getStorableKey,d);var f=b("bs_js_dict").get(c,d);if(f!==void 0){f=f;if(typeof f==="number"&&f!==0)return 0;else{c[d]=[e];return 0}}else{c[d]=[e];return 0}}else return 0},e=function(d){d=b("bs_curry")._1(a.getStorableKey,d);var e=b("bs_js_dict").get(c,d);if(e!==void 0){e=e;e=typeof e==="number"?void 0:b("bs_caml_option").some(e[0])}else e=void 0;c[d]=0;return e},f=function(d){d=b("bs_curry")._1(a.getStorableKey,d);c[d]=1;return 0},g=function(d){d=b("bs_curry")._1(a.getStorableKey,d);d=b("bs_js_dict").get(c,d);if(d!==void 0&&typeof d!=="number")return!0;else return!1};return{save:d,restore:e,markClosed:f,hasContent:g}}f.Store=a}),null);
__d("MWChatThreadId.bs",["FBID.bs","MercuryIDs"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){if(a[0]>=892012143)return b("MercuryIDs").getThreadIDFromUserID(a[1]);else return b("MercuryIDs").getThreadIDFromThreadFBID(a[1])}function c(a){var b=a[0];if(b!==892012143)if(b>=948354667)return"u."+a[1];else return"g."+a[1];else return"p."+a[1]}function d(a){__p&&__p();a=a.split(".");var c=a.length,d;if(c>=3)d=[void 0,void 0];else switch(c){case 0:d=[void 0,void 0];break;case 1:c=a[0];d=[c,void 0];break;case 2:c=a[0];a=a[1];d=/^[1-9]\d*$/.test(a)?[c,a]:[void 0,void 0];break}c=d[1];a=d[0];if(a!==void 0)switch(a){case"g":if(c!==void 0)return[757211935,b("FBID.bs").ofStringExn(c)];else return;case"p":if(c!==void 0)return[892012143,b("FBID.bs").ofStringExn(c)];else return;case"u":if(c!==void 0)return[948354667,b("FBID.bs").ofStringExn(c)];else return;default:return}}f.getMercuryID=a;f.serializeFuture=c;f.deserializeFuture=d}),null);
__d("MWChatComposerViewStateStore.bs",["MWChatThreadId.bs","MWChatStateStore.bs"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("MWChatThreadId.bs").serializeFuture;c={getStorableKey:a};d=b("MWChatStateStore.bs").Store(c);e=d.save;a=d.restore;b=d.markClosed;d=d.hasContent;f.MWChatThreadIdStorable=c;f.save=e;f.restore=a;f.markClosed=b;f.hasContent=d}),null);
__d("BroadcastChannel.bs",["bs_caml_option"],(function(a,b,c,d,e,f){"use strict";function a(a){var c=window.BroadcastChannel;if(c==null)return;else return b("bs_caml_option").some(new BroadcastChannel(a))}f.make=a}),null);
__d("MWChatTabManager.bs",["bs_curry","bs_caml_option","DeferredCookie","BroadcastChannel.bs"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g="ChatHeads";d=[!1];e={};var h="presence",i="C";function j(a){b("DeferredCookie").addToQueue(h,i+a,0,"",!1,!1,!0);return 0}function k(a){a=JSON.stringify(a);if(a!==void 0)return j(a);else return 0}function a(a){a=a==null?"":a;var b=a.slice(0,1);a=a.slice(1);b=b===i;if(b)return JSON.parse(a);else return{lm3:void 0,t3:[],utc3:0,v:0}}function c(a,c){__p&&__p();var d=b("BroadcastChannel.bs").make(g),e;if(d!==void 0){var f=b("bs_caml_option").valFromOption(d);f.addEventListener("message",function(c){return b("bs_curry")._1(a,c.data)});e=function(a){f.postMessage(a);return 0}}else e=function(a){return 0};return function(a){k(b("bs_curry")._1(c,a));return b("bs_curry")._1(e,a)}}f.channelName=g;f.postingUpdate=d;f.DeferredCookie=e;f.cookieName=h;f.cookieMode=i;f.writeRawPresenceCookieWithMode=j;f.serializeAndWrite=k;f.deserialize=a;f.setup=c}),null);
__d("MessengerWebEntryPoint",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({CHAT_HEADS:"chat_heads",CHAT_SEARCH:"chat_search",COMPAT:"compat",COOKIE:"cookie",CRISIS_LISTING_ATTACHMENT:"crisis_listing_attachment",EVENTS_PERMALINK:"events_permalink",FEED_POLL:"feed_poll",FUNDRAISER:"fundraiser",GROUP_MEMBERS_TAB:"group_members_tab",GROUP_QUALITY:"group_quality",GROUP_REMOVE_POST_TOMBSTONE:"group_remove_post_tombstone",JEWEL:"jewel",JEWEL_NEW_MESSAGE:"jewel_new_message",JEWEL_SEARCH:"jewel_search",MARKETPLACE:"marketplace",MEMORIES_HOME:"memories_home",MENTORSHIP:"mentorship",MESSAGE_RECEIVED:"message_received",MUTUAL_FRIENDS_DIALOG:"mutual_friends_dialog",NEW_MESSAGE_BUTTON:"new_msg_button",OFFER:"offer",PAGES_ABOUT:"pages_about",PAGES_COMMUNITY_FRIENDS_DIALOG:"pages_community_friends_dialog",PAGES_CTA:"pages_cta",PAGES_HEADER:"pages_header",PAGES_HOME_FRIENDS_DIALOG:"pages_home_friends_dialog",PAGES_POPUP_CHAT:"pages_popup_chat",RESHARES_DIALOG:"reshares_dialog",RHC_SEARCH:"rhc_search",RHC_SEARCH_ICON:"rhc_search_icon",SEARCH:"search",SEARCH_RESULT_PAGE:"search_result_page",SIDEBAR:"sidebar",STORY_AGGREGATED_USERS:"story_aggregated_users",TIMELINE:"timeline",UFI_REACTIONS:"ufi_reactions",UICE:"uice",UNKNOWN:"unknown",WORK_SHIFT_SWAP:"work_shift_swap"})}),null);
__d("MessengerWebEvent",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({RENDER_FIRST_THREAD_CONTENT:"render_first_thread_content",SEND_MSG:"send_msg",RENDER_INCOMING_MSG:"render_incoming_msg",OPEN_CHAT_TAB:"open_chat_tab",MINIMIZE_CHAT_TAB:"minimize_chat_tab",RENDER_INBOX:"render_inbox",SHOW_SIDEBAR_CONTACTS:"show_sidebar_contacts",SEARCH_RENDER_RESULT:"search_render_result",OPEN_THREAD_SETTINGS_MENU:"open_thread_settings_menu",OPEN_EMOJI_FLYOUT:"open_emoji_flyout",OPEN_STICKER_FLYOUT:"open_sticker_flyout",CREATE_THREAD:"create_thread",SEARCH_CLICK_RESULT:"search_click_result",CHANGE_NICKNAME:"change_nickname",SUPPRESS_NEW_MESSAGE:"suppress_new_message",LOAD_TAB_FROM_COOKIE:"load_tab_from_cookie",RENDER_QUICK_REPLIES:"render_quick_replies",CLICK_ICEBKREAKER:"click_icebreaker"})}),null);
__d("CometFeedNoRoutingNavigationEventsLoggerImpl",["requireDeferred","JSScheduler","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("requireDeferred")("Banzai"),h=b("React").useCallback;function a(a,c,d){var e=h(function(b,e,f,g){if(c==null||c==="")return;var h=babelHelpers["extends"]({},b.VITAL,{signal:!0});b.post("comet_metrics:navigation",{dest_module:g,extra:d,href:f,tn:a.join(""),ts:e,xt:c},h)},[a,c,d]);return h(function(a,c,d){b("JSScheduler").scheduleLoggingPriCallback(function(){return g.onReady(function(b){return e(b,a,c,d)})})},[e])}e.exports=a}),null);
__d("useCometFeedNoRoutingNavigationEventLogger",["CometFeedLoggingExtraFieldsContext","CometFeedNoRoutingNavigationEventsLoggerImpl","CometTrackingCodeContext","CometTrackingNodesContext","React"],(function(a,b,c,d,e,f){"use strict";var g=b("React").useContext;function a(){var a=g(b("CometTrackingNodesContext")),c=g(b("CometTrackingCodeContext"));c=c.encrypted_tracking[0];var d=g(b("CometFeedLoggingExtraFieldsContext"));return c===null||c===void 0?function(){}:b("CometFeedNoRoutingNavigationEventsLoggerImpl")(a,c,d)}e.exports=a}),null);
__d("useMWChatOpenTabTraceProvider",["React","useCometInteractionTracing"],(function(a,b,c,d,e,f){"use strict";var g=b("React").useCallback,h=!1;function a(){var a=b("useCometInteractionTracing")(30605380,"responsive","INTERACTION"),c=g(function(b,c,d){a(function(a){a.onComplete(function(b){a.addMetadata("threadType",c),a.addMetadata("entrypoint",d),h?a.addMetadata("revisit",1):(a.addMetadata("revisit",0),h=!0)}),b()})},[a]);return c}e.exports=a}),null);
__d("MWChatTangState.bs",["bs_block","bs_curry","React","gkx","bs_caml_obj","FBLogger","BanzaiODS","bs_caml_array","setTimeout","CurrentUser","killswitch","MWChatThreadId.bs","MWChatTabManager.bs","MessengerWebEvent","MWChatTangState.re","MessengerWebEntryPoint","useCometRouterDispatcher","MWChatComposerViewStateStore.bs","useMWChatOpenTabTraceProvider","MessengerWebStgTypedLoggerLite","XCometWorkChatControllerRouteBuilder","XCometMessengerControllerRouteBuilder","useCometFeedNoRoutingNavigationEventLogger"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g={};function h(a){return[a,!0,!1,[!1]]}function a(f){__p&&__p();var a=function(a){a[2].forEach(function(a){return b("bs_curry")._1(a,0)});return 0},c=function(c,d){d=b("bs_curry")._3(c[0],c[1],d,c);if(d!==c[1]){c[1]=d;return a(c)}else return 0},g=function(a,b){return[a,b,[],function(a){return 0}]},d=function(a,b){a[2].push(b);return function(c){c=a[2].indexOf(b);a[2].splice(c,1);return 0}},e=function(d){var c=b("MWChatTabManager.bs").setup(function(c){if(b("bs_caml_obj").caml_notequal(c,d[1])){d[1]=b("bs_curry")._2(f.getNewState,d[1],c);return a(d)}else return 0},f.makeCookieData);d[3]=c;return 0},h=function(a){return a[1]},i=function(a){return a[3]};return{_inform:a,dispatch:c,make:g,listen:d,subscribe:e,state:h,userAction:i}}function i(a){__p&&__p();if(a!==void 0){a=a;var c=a[0];if(c!==void 0){c=c[0];c=c?b("MWChatThreadId.bs").serializeFuture(c[0]):"l"}else c=void 0;a=[a[1].map(function(a){return{i:b("MWChatThreadId.bs").serializeFuture(a)}}),c]}else a=[[],void 0];c=Date.now();return{t3:a[0],utc3:c,lm3:a[1],v:1}}function j(a,c){__p&&__p();if(a!==void 0)if(c!==void 0&&!b("gkx")("1168393")){var d=c;return[a[0],d[1],d[2]]}else return c;else if(c!==void 0&&!b("gkx")("1168393")){a=c;return[void 0,a[1],a[2]]}else return c}function k(a){a[2].forEach(function(a){return b("bs_curry")._1(a,0)});return 0}function l(a,c){c=b("bs_curry")._3(a[0],a[1],c,a);if(c!==a[1]){a[1]=c;return k(a)}else return 0}function c(a,b){return[a,b,[],function(a){return 0}]}function m(a,b){a[2].push(b);return function(c){c=a[2].indexOf(b);a[2].splice(c,1);return 0}}function n(a){var c=b("MWChatTabManager.bs").setup(function(c){if(b("bs_caml_obj").caml_notequal(c,a[1])){a[1]=j(a[1],c);return k(a)}else return 0},i);a[3]=c;return 0}function d(a){return a[1]}function e(a){return a[3]}d={_inform:k,dispatch:l,make:c,listen:m,subscribe:n,state:d,userAction:e};function o(a){var c=a.t3;c=c.length!==0?c.reduce(function(a,c){c=b("MWChatThreadId.bs").deserializeFuture(c.i);c!==void 0&&a.push(c);return a},[]):void 0;var d=b("gkx")("1168393");a=a.lm3;d=d&&a!==void 0?b("MWChatThreadId.bs").deserializeFuture(a):void 0;return[c,d]}function p(a,c,d){c=[c[0]].concat(a);a=c.findIndex(function(a){return b("bs_caml_obj").caml_equal(a,d)});if(a!==-1)return c.slice(0,a).concat(c.slice(a+1|0));else return c}function q(a,c){return a.findIndex(function(a){return b("bs_caml_obj").caml_equal(a,c)})===4}function r(a,c,d){var e,f=(e=b("bs_caml_array")).caml_array_get(a,c);e.caml_array_set(a,c,e.caml_array_get(a,d));e.caml_array_set(a,d,f);return a}function s(a,c,d){__p&&__p();var e=a.findIndex(function(a){return b("bs_caml_obj").caml_equal(a,d)});if(e!==-1)if(e>=5){if(c!==void 0){e=c[0];if(e&&q(a,e[0]))return r([d].concat(a.filter(function(a){return b("bs_caml_obj").caml_notequal(a,d)})),4,5)}return[d].concat(a.filter(function(a){return b("bs_caml_obj").caml_notequal(a,d)}))}else return a;else if(c!==void 0){e=c[0];if(e)if(q(a,e[0]))return r([d].concat(a),4,5);else return[d].concat(a);else return[d].concat(a)}else return[d].concat(a)}function t(c,d,a){var e=c.findIndex(function(a){return b("bs_caml_obj").caml_equal(a[0],d)});if(e!==-1)return c.slice(e+1|0,c.length).concat(c.slice(0,e),[[d,b("setTimeout")(function(c){return l(a,b("bs_block").__(10,[d]))},3e3)]]);else return[[d,b("setTimeout")(function(c){return l(a,b("bs_block").__(10,[d]))},3e3)]].concat(c)}function u(a){if(a!==void 0)return a[1].slice().reverse().slice(-5);else return[]}function v(a){if(a!==void 0)return a[1].reduce(function(a,b){return a.concat([b])},[]);else return[]}function w(a){__p&&__p();if(a!==void 0){a=a[0];if(a!==void 0){a=a;if(a[0])return!1;else return a[3][0]}else return!1}else return!1}function x(a,c){__p&&__p();if(a!==void 0){a=a[0];if(a!==void 0){a=a;var d=a[0];if(d&&b("bs_caml_obj").caml_equal(d[0],c))return a[3][0];else return!1}else return!1}else return!1}function y(a){if(a!==void 0){a=a[0];if(a!==void 0)return a[0];else return}}function z(a){if(a!==void 0)return a[2];else return[]}var A={};function B(a,c){__p&&__p();if(a[0]>=892012143){var d=a[1];A[d]=c;b("MessengerWebStgTypedLoggerLite").log({entry_point:c,event_name:b("MessengerWebEvent").OPEN_CHAT_TAB,other_user_fbid:d,thread_fbid:null});return 0}else{d=a[1];A[d]=c;b("MessengerWebStgTypedLoggerLite").log({entry_point:c,event_name:b("MessengerWebEvent").OPEN_CHAT_TAB,other_user_fbid:null,thread_fbid:d});return 0}}function C(a,b,c){c=c!==void 0?!c[0]:!0;if(a!==void 0){a=a;var d=h([b]);return[[d[0],c,d[2],d[3]],s(a[1],a[0],b),a[2]]}else{d=h([b]);return[[d[0],c,d[2],d[3]],[b],[]]}}function D(a){if(a!==void 0){a=a;return[[0,!0,!1,[!1]],a[1],a[2]]}else return[[0,!0,!1,[!1]],[],[]]}function E(a){if(a!==void 0){a=a;var b=[!1];return[[0,!0,!0,b],a[1],a[2]]}else{b=[!1];return[[0,!0,!0,b],[],[]]}}function F(c,d,a){__p&&__p();if(c!==void 0){c=c;var e=c[2],f=c[1],g=c[0];f.findIndex(function(a){return b("bs_caml_obj").caml_equal(a,d)})===-1&&B(d,b("MessengerWebEntryPoint").MESSAGE_RECEIVED);if(g!==void 0){if(!g[1]){var i=b("gkx")("1249248")&&f.findIndex(function(a){return b("bs_caml_obj").caml_equal(a,d)})===-1;if(i){i=h([d]);return[[i[0],!1,i[2],i[3]],s(f,g,d),t(e,d,a)]}else return[c[0],s(f,g,d),t(e,d,a)]}}else if(f.findIndex(function(a){return b("bs_caml_obj").caml_equal(a,d)})===-1){i=h([d]);return[[i[0],!1,i[2],i[3]],s(f,g,d),t(e,d,a)]}return[c[0],s(f,g,d),t(e,d,a)]}else{B(d,b("MessengerWebEntryPoint").MESSAGE_RECEIVED);i=h([d]);return[[i[0],!1,i[2],i[3]],[d],t([],d,a)]}}function G(a,b){if(a!==void 0){var c=a;return[c[0],c[1],c[2].filter(function(a){return a[0]!==b})]}else return a}function H(a,c){__p&&__p();if(a!==void 0){var d=a,e=d[1],f=d[0];if(e.length!==0){var g=e.findIndex(function(a){return b("bs_caml_obj").caml_equal(a,c)});if(g!==-1){b("bs_curry")._1(b("MWChatComposerViewStateStore.bs").markClosed,c);e=e.slice(0,g).concat(e.slice(g+1|0));if(e.length!==0){if(f!==void 0){g=f[0];g=g&&b("bs_caml_obj").caml_notequal(g[0],c)?f:void 0}else g=void 0;return[g,e,d[2]]}else return}else return a}else return}else return a}function I(a){if(a!==void 0){var b=a,c=b[1];if(c.length!==0)return[void 0,c,b[2]];else return}else return a}function J(a,c){__p&&__p();if(a!==void 0){var d=a,e=d[0];if(e!==void 0){e=e[0];if(e&&b("bs_caml_obj").caml_equal(c,e[0]))return[void 0,d[1],d[2]];else return a}else return a}else return a}function K(a,c){__p&&__p();if(a!==void 0){var d=a,e=d[0];if(e!==void 0){e=e;var f=e[0];if(f&&b("bs_caml_obj").caml_equal(c,f[0])&&!e[1])return[[e[0],!0,e[2],e[3]],d[1],d[2]];else return a}else return a}else return a}function L(a){__p&&__p();if(a!==void 0){var b=a,c=b[0];if(c!==void 0){c=c;if(c[0]||c[1])return a;else return[[c[0],!0,c[2],c[3]],b[1],b[2]]}else return a}else return a}function M(a,c){__p&&__p();if(a!==void 0){var d=a,e=d[0];if(e!==void 0){e=e;var f=e[0];if(f&&b("bs_caml_obj").caml_equal(c,f[0]))return[[e[0],!1,e[2],e[3]],d[1],d[2]];else return a}else return a}else return a}function N(a){__p&&__p();if(a!==void 0){var b=a,c=b[0];if(c!==void 0){c=c;if(c[0])return a;else return[[c[0],!1,c[2],c[3]],b[1],b[2]]}else return a}else return a}function O(a){if(a!==void 0){var b=a;return[void 0,b[1],b[2]]}else return a}function P(a,b,c){__p&&__p();if(b.length!==0)if(a!==void 0){if(c!==void 0){var d=h([c]);d=[d[0],!1,d[2],d[3]]}else d=void 0;return[d,b,a[2]]}else{if(c!==void 0){d=h([c]);a=[d[0],!1,d[2],d[3]]}else a=void 0;return[a,b,[]]}}function Q(c,d,a){__p&&__p();var e;if(typeof d==="number")switch(d){case 0:e=D(c);break;case 1:e=E(c);break;case 2:e=void 0;break;case 3:e=O(c);break;case 4:e=I(c);break;case 5:e=N(c);break;case 6:e=L(c);break}else switch(d.tag|0){case 0:e=C(c,d[0],d[1]);break;case 1:e=F(c,d[0],a);break;case 2:e=P(c,d[0],d[1]);break;case 3:e=Q(c,b("bs_block").__(0,[[892012143,d[0]],d[1]]),a);break;case 4:e=Q(c,b("bs_block").__(0,[[948354667,d[0]],d[1]]),a);break;case 5:e=Q(c,b("bs_block").__(0,[[757211935,d[0]],d[1]]),a);break;case 6:e=H(c,d[0]);break;case 7:e=J(c,d[0]);break;case 8:e=M(c,d[0]);break;case 9:e=K(c,d[0]);break;case 10:e=G(c,d[0]);break}if(typeof d==="number")b("bs_curry")._1(a[3],e);else switch(d.tag|0){case 1:case 2:break;default:b("bs_curry")._1(a[3],e)}return e}var R=c(function(a,b,c){return a},void 0),S=b("React").createContext(R),T=S.Provider,U=[!1],V=c(Q,void 0);function W(a){__p&&__p();a=a.children;var c=o(b("MWChatTabManager.bs").deserialize(b("MWChatTangState.re").cookie)),d=c[1],e=c[0],f=b("useMWChatOpenTabTraceProvider")();b("React").useEffect(function(){__p&&__p();if(b("gkx")("1134614")&&!b("killswitch")("MESSENGER_WEB_STOP_PERSISTING_CHAT_HEADS")){n(V);var a=U[0];if(e!==void 0&&!a){var c=e;U[0]=!0;b("MessengerWebStgTypedLoggerLite").log({event_name:b("MessengerWebEvent").LOAD_TAB_FROM_COOKIE,extra_data:{tabNumber:c.length}});c.forEach(function(a){return B(a,b("MessengerWebEntryPoint").COOKIE)});if(d!==void 0){a=d[0];f(function(a){return l(V,b("bs_block").__(2,[c,d]))},a!==892012143?a>=948354667?"user":"group":"page","cookie")}else l(V,b("bs_block").__(2,[c,void 0]))}}return},[]);return b("React").createElement(T,{value:V,children:a})}function X(){__p&&__p();var a=b("React").useContext(S),c=b("useCometRouterDispatcher")(),d=b("useCometFeedNoRoutingNavigationEventLogger")(),e=function(b){d(Date.now(),"","messenger");return l(a,b)},f=b("React").useMemo(function(){return e},[a]),g=function(a){__p&&__p();b("FBLogger")("messenger-comet").warn("MWChatTangState called without context");if(typeof a==="number")return 0;else switch(a.tag|0){case 3:case 4:case 5:break;default:return 0}a=a[0];var d=b("CurrentUser").isWorkUser();d=d?b("XCometWorkChatControllerRouteBuilder").buildURL({thread_key:a}):b("XCometMessengerControllerRouteBuilder").buildURL({thread_key:a});c.go(d);return 0},h=b("React").useMemo(function(){return g},[]);if(a[0]===R[0])return h;else return f}function Y(c){__p&&__p();var a=b("React").useContext(S);c=b("React").useState(function(){return a[1]});var d=c[1];b("React").useEffect(function(){var c=m(a,function(c){return b("bs_curry")._1(d,function(b){return a[1]})});return function(a){return b("bs_curry")._1(c,0)}},[]);return c[0]}function Z(c){var a=X(),d=b("useMWChatOpenTabTraceProvider")();return b("React").useCallback(function(e){b("BanzaiODS").bumpEntityKey(3185,"mwchat_tab","open_user");A[e]=c;b("MessengerWebStgTypedLoggerLite").log({entry_point:c,event_name:b("MessengerWebEvent").OPEN_CHAT_TAB,other_user_fbid:e,thread_fbid:null});return d(function(c){return b("bs_curry")._1(a,b("bs_block").__(4,[e,void 0]))},"user",c)},[c])}function $(c){var a=X(),d=b("useMWChatOpenTabTraceProvider")();return b("React").useCallback(function(e){b("BanzaiODS").bumpEntityKey(3185,"mwchat_tab","open_group");A[e]=c;b("MessengerWebStgTypedLoggerLite").log({entry_point:c,event_name:b("MessengerWebEvent").OPEN_CHAT_TAB,other_user_fbid:null,thread_fbid:e});return d(function(c){return b("bs_curry")._1(a,b("bs_block").__(5,[e,void 0]))},"group",c)},[c])}function aa(c){var a=X(),d=b("useMWChatOpenTabTraceProvider")();return b("React").useCallback(function(e){b("BanzaiODS").bumpEntityKey(3185,"mwchat_tab","open_page");A[e]=c;b("MessengerWebStgTypedLoggerLite").log({entry_point:c,event_name:b("MessengerWebEvent").OPEN_CHAT_TAB,other_user_fbid:e,thread_fbid:null});var f=c===b("MessengerWebEntryPoint").PAGES_POPUP_CHAT;return d(function(c){return b("bs_curry")._1(a,b("bs_block").__(3,[e,[f]]))},"page",c)},[c])}function ba(c){var a=X(),d=b("useMWChatOpenTabTraceProvider")();return b("React").useCallback(function(e){b("BanzaiODS").bumpEntityKey(3185,"mwchat_tab","open_new");b("MessengerWebStgTypedLoggerLite").log({entry_point:c,event_name:b("MessengerWebEvent").OPEN_CHAT_TAB});return d(function(c){return b("bs_curry")._1(a,0)},"new_message",c)},[c])}function ca(c){var a=X();return b("React").useCallback(function(c){return b("bs_curry")._1(a,4)},[c])}function da(c){var a=X();return b("React").useCallback(function(c){return b("bs_curry")._1(a,b("bs_block").__(6,[c]))},[c])}function ea(c){var a=X();return b("React").useCallback(function(c){return b("bs_curry")._1(a,6)},[c])}function fa(c){var a=X();return b("React").useCallback(function(c){return b("bs_curry")._1(a,5)},[c])}function ga(c){var a=X();return b("React").useCallback(function(c){return b("bs_curry")._1(a,b("bs_block").__(9,[c]))},[c])}function ha(c){var a=X();return b("React").useCallback(function(c){return b("bs_curry")._1(a,b("bs_block").__(8,[c]))},[c])}function ia(c){var a=X();return b("React").useCallback(function(c){b("BanzaiODS").bumpEntityKey(3185,"mwchat_tab","open_incoming");return b("bs_curry")._1(a,b("bs_block").__(1,[c]))},[c])}function ja(a){var c=Y(0);return b("React").useCallback(function(a){return w(c)},[c])}function ka(a){var c=Y(0);return b("React").useCallback(function(a){return x(c,a)},[c])}function la(c){var a=X();return b("React").useCallback(function(c){return b("bs_curry")._1(a,b("bs_block").__(0,[c,void 0]))},[c])}function ma(c){var a=X();return b("React").useCallback(function(c){return b("bs_curry")._1(a,b("bs_block").__(7,[c]))},[c])}function na(c){var a=X();return b("React").useCallback(function(c){return b("bs_curry")._1(a,3)},[c])}function oa(c){var a=X();return b("React").useCallback(function(d){b("MessengerWebStgTypedLoggerLite").log({entry_point:c,event_name:b("MessengerWebEvent").OPEN_CHAT_TAB});return b("bs_curry")._1(a,1)},[c])}e=1;c=5;var pa=3e3;W=W;f.MessengerWebPresenceCookieData=g;f.getDefaultOpenTab=h;f.MakeDispatcher=a;f.version=e;f.Manager=d;f.parseCookieData=o;f.getTabsWithoutCertainThread=p;f.maxChatHeads=c;f.notificationTime=pa;f.isLastActive=q;f.swap=r;f.reorderChatHeads=s;f.updateNotificationTimers=t;f.getVisibleChatHeads=u;f.getOpenChatTabsNoSearch=v;f.getHasContentSearch=w;f.getHasContentFuture=x;f.getUncollapsedChatTab=y;f.getNotifications=z;f.tabEntryPoints=A;f.logAndSetEntrypoint=B;f.openTab=C;f.openNewTab=D;f.openNewSearchTab=E;f.openTabFromNewMessage=F;f.closeNotification=G;f.closeTab=H;f.closeNewTab=I;f.collapseTab=J;f.focusTab=K;f.focusNewTab=L;f.blurTab=M;f.blurNewTab=N;f.collapseTabs=O;f.loadTabs=P;f.reducer=Q;f.defaultInstance=R;f.context=S;f.provider=T;f.hasLoaded=U;f.instance=V;f.make=W;f.useDispatch=X;f.useState=Y;f.useOpenTabForUser=Z;f.useOpenTabForGroup=$;f.useOpenTabForPage=aa;f.useOpenNewTab=ba;f.useCloseNewTab=ca;f.useCloseTab=da;f.useFocusNewTab=ea;f.useBlurNewTab=fa;f.useFocusTab=ga;f.useBlurTab=ha;f.useOpenTabFromNewMessage=ia;f.useHasSearchTabContent=ja;f.useHasTabContent=ka;f.useOpenTab_DEPRECATED=la;f.useCollapseTab=ma;f.useCollapseTabs=na;f.useOpenNewSearchTab=oa}),null);
__d("MWChatTangState.re",["MessengerWebPresenceCookieData","bs_block","MWChatTangState.bs"],(function(a,b,c,d,e,f){__p&&__p();var g={OpenNewTab:0,OpenNewSearchTab:1,CloseTabs:2,CollapseTabs:3,CloseNewTab:4,BlurNewTab:5,FocusNewTab:6},h={0:"Search"};a=b("MessengerWebPresenceCookieData").cookie;f.cookieTypeChecked=a;c=a;f.cookie=c;e=(d=b("MWChatTangState.bs")).getHasContentSearch;f.getHasContentSearch=e;a=function(a){a=b("MWChatTangState.bs").getUncollapsedChatTab(a);return a==null?a:typeof a==="object"?{tag:"Thread",value:a[0]}:h[a]};f.getUncollapsedChatTab=a;c=d.getNotifications;f.getNotifications=c;(function(a){return null});e=d.make;f.make=e;a=function(){var a=b("MWChatTangState.bs").useDispatch();return function(c){c=a(typeof c==="object"?c.tag==="OpenTab"?b("bs_block").__(0,[c.value[0],c.value[1]==null?void 0:[c.value[1].preventAutofocus]]):c.tag==="OpenTabFromNewMessage"?b("bs_block").__(1,[c.value]):c.tag==="LoadTabs"?b("bs_block").__(2,[c.value[0],c.value[1]==null?void 0:c.value[1]]):c.tag==="OpenTabForPage"?b("bs_block").__(3,[c.value[0],c.value[1]==null?void 0:[c.value[1].preventAutofocus]]):c.tag==="OpenTabForUser"?b("bs_block").__(4,[c.value[0],c.value[1]==null?void 0:[c.value[1].preventAutofocus]]):c.tag==="OpenTabForGroup"?b("bs_block").__(5,[c.value[0],c.value[1]==null?void 0:[c.value[1].preventAutofocus]]):c.tag==="CloseTab"?b("bs_block").__(6,[c.value]):c.tag==="CollapseTab"?b("bs_block").__(7,[c.value]):c.tag==="BlurTab"?b("bs_block").__(8,[c.value]):c.tag==="FocusTab"?b("bs_block").__(9,[c.value]):b("bs_block").__(10,[c.value]):g[c]);return c}};f.useDispatch=a;c=d.useState;f.useState=c;e=d.useOpenTabForUser;f.useOpenTabForUser=e;a=d.useOpenTabForGroup;f.useOpenTabForGroup=a;c=d.useOpenTabForPage;f.useOpenTabForPage=c;e=d.useOpenNewTab;f.useOpenNewTab=e;a=d.useOpenNewSearchTab;f.useOpenNewSearchTab=a}),null);
__d("useCometClickToMessageActionLink",["requireDeferred","CometRelay","MWChatTangState.re","emptyFunction"],(function(a,b,c,d,e,f){"use strict";var g=b("CometRelay").useRelayEnvironment,h=b("requireDeferred")("MWChatBusinessCTAAdsSenderMutation");function a(a,c){var d=b("MWChatTangState.re").useOpenTabForPage("pages_cta"),e=g();return c==null?b("emptyFunction"):function(){d(c),a!=null&&h.onReady(function(b){return b.sendAds(e,{ad_id:a,page_id:c})})}}e.exports=a}),null);