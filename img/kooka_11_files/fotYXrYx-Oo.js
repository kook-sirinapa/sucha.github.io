if (self.CavalryLogger) { CavalryLogger.start_js(["yxTxw"]); }

__d("getEntityIDFromRoute",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){a=(a==null?void 0:(a=a.rootView)==null?void 0:a.props)||{};if(a.userID)return a.userID;if(a.pageID)return a.pageID;if(a.groupID)return a.groupID;return a.eventID?a.eventID:null}e.exports=a}),null);
__d("useViewabilityImpression",["useVisibilityObserver"],(function(a,b,c,d,e,f){"use strict";a=function(a){a=a.onIntersection;return b("useVisibilityObserver")({onIntersection:a,options:{thresholdOverride:"MODERATE"}})};e.exports=a}),null);
__d("BaseCard.react",["React"],(function(a,b,c,d,e,f){"use strict";function a(a,c){return b("React").jsx("div",babelHelpers["extends"]({},a,{ref:c}))}e.exports=b("React").forwardRef(a)}),null);
__d("CometCard.react",["BaseCard.react","React","stylex"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h={"base-wash":{backgroundColor:"g6srhlxm"},"dark-wash":{backgroundColor:"ora8z2hr"},error:{backgroundColor:"l44iypv3"},highlight:{backgroundColor:"is6700om"},"light-wash":{backgroundColor:"qsy8amke"},transparent:{backgroundColor:"g5ia77u1"},white:{backgroundColor:"hybvsw6c"}},i={borderHighlightAnimationOverlay:{animationDuration:"r8dsh44q",animationName:"j4rmde5a",borderTop:"gcieejh5",borderEnd:"bn081pho",borderBottom:"humdl8nn",borderStart:"izx4hr6d",borderTopStartRadius:"ue3kfks5",borderTopEndRadius:"pw54ja7n",borderBottomEndRadius:"uo3d90p7",borderBottomStartRadius:"l82x9zwi",bottom:"i09qtzwb",end:"n7fi1qx3",pointerEvents:"hzruof5a",position:"pmk7jnqg",start:"j9ispegn",top:"kr520xx4",zIndex:"tkr6xdv7"},borderOnWash:{borderTopColor:"qbxu24ho",borderEndColor:"bxzzcbxg",borderBottomColor:"lxuwth05",borderStartColor:"h2mp5456"},borderOnWhite:{borderTopColor:"qbxu24ho",borderEndColor:"bxzzcbxg",borderBottomColor:"lxuwth05",borderStartColor:"h2mp5456"},borderSolid:{borderTopStyle:"goun2846",borderEndStyle:"ccm00jje",borderBottomStyle:"s44p3ltw",borderStartStyle:"mk2mc5f4",borderTopWidth:"frvqaej8",borderEndWidth:"ed0hlay0",borderBottomWidth:"afxsp9o4",borderStartWidth:"jcgfde61"},expanding:{flexGrow:"buofh1pr"},root:{borderTopStartRadius:"ue3kfks5",borderTopEndRadius:"pw54ja7n",borderBottomEndRadius:"uo3d90p7",borderBottomStartRadius:"l82x9zwi",boxSizing:"rq0escxv",overflowX:"ni8dbmo4",overflowY:"stjgntxs",position:"l9j0dhe7",width:"k4urcfbm"}},j=(c={},c[1]={boxShadow:"dsne8k7f"},c[2]={boxShadow:"kmp5kqmu"},c);function a(a,c){__p&&__p();var d=a.background;d=d===void 0?"transparent":d;var e=a.border;e=e===void 0?"none":e;var f=a.borderHighlightAnimation;f=f===void 0?!1:f;var k=a.children,l=a.dropShadow;l=l===void 0?0:l;var m=a.expanding;m=m===void 0?!1:m;a=a.xstyle;return b("React").jsxs(b("BaseCard.react"),{className:(g||(g=b("stylex")))(h[d],e==="solid"&&d!=="white"&&i.borderOnWash,e==="solid"&&d==="white"&&i.borderOnWhite,e==="solid"&&i.borderSolid,i.root,j[l],m&&i.expanding,a),ref:c,children:[f?b("React").jsx("div",{className:(g||(g=b("stylex")))(i.borderHighlightAnimationOverlay)}):null,k]})}e.exports=b("React").forwardRef(a)}),null);
__d("CometFeedClickEventsLoggerProvider.react",["CometFeedClickEventsLoggerContext","React"],(function(a,b,c,d,e,f){"use strict";var g=b("React").useCallback;function a(a){var c=a.children,d=a.logger,e=a.onPress;a=g(function(a,b,c,f,g,h,i){d.loadImmediately(function(d){return e(d,a,b,c,f,g,h,i)})},[d,e]);return b("React").jsx(b("CometFeedClickEventsLoggerContext").Provider,{value:a,children:c})}e.exports=a}),null);
__d("useCometFeedLoggingExtraFields",["CometFeedLoggingExtraFieldsContext","React"],(function(a,b,c,d,e,f){"use strict";var g=b("React").useContext;function a(){return g(b("CometFeedLoggingExtraFieldsContext"))}e.exports=a}),null);
__d("CometFeedLoggingExtraFieldsProvider.react",["CometFeedLoggingExtraFieldsContext","React","shallowEqual","useCometFeedLoggingExtraFields"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("React").useRef;function a(a){var c=a.children;a=a.extraFields;var d=g({}),e=b("useCometFeedLoggingExtraFields")();e=babelHelpers["extends"]({},e,a);b("shallowEqual")(d.current,e)||(d.current=e);return b("React").jsx(b("CometFeedLoggingExtraFieldsContext").Provider,{value:d.current,children:c})}e.exports=b("React").memo(a)}),null);
__d("CometFeedStoryClickLoggerImpl.react",["requireDeferred","CometFeedClickEventsLoggerProvider.react","CometFeedLoggingExtraFieldsProvider.react","CometRouteURL","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("requireDeferred")("Banzai"),h=b("CometRouteURL").useRouteURLParams,i=b("React").useCallback;function a(a){a=a.children;var c=h(),d=c.notif_t!=null?String(c.notif_t):null;c=c.notif_id!=null?+c.notif_id:null;var e=i(function(a,b,c,d,e,f,g,h){if(d==null||d==="")return;var i=babelHelpers["extends"]({},a.VITAL,{signal:!0});a.post("comet_metrics:click",{click_type:e===1?"middle_click":e===2?"right_click":e===-1?"dummy_click":"",client_trace_id:h,extra:g,href:f,tn:c.join(""),ts:b,xt:d},i)},[]);return b("React").jsx(b("CometFeedClickEventsLoggerProvider.react"),{logger:g,onPress:e,children:b("React").jsx(b("CometFeedLoggingExtraFieldsProvider.react"),{extraFields:{notif_id:c,notif_type:d},children:a})})}e.exports=a}),null);
__d("useStoryFullViewLogger",["requireDeferred","React","useFullViewImpression"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("requireDeferred")("Banzai"),h=b("React").useCallback,i=b("React").useRef;function a(a,c,d){__p&&__p();var e=i(!1);d=h(function(b){b.currentTime;if(!e.current&&a!=null){e.current=!0;var d={csp:c,xt:a};g.onReady(function(a){a.post("comet_metrics:full_view",d)})}},[c,a]);return b("useFullViewImpression")({onFullViewStart:d})}e.exports=a}),null);
__d("useStoryViewabilityDurationLogger",["Banzai","PercentVisible","React","useViewabilityImpression"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("React").useCallback,h=b("React").useRef;function a(a,c,d){__p&&__p();var e=h(null),f=h(null),i=h(null);c=g(function(c){__p&&__p();var d=c.entry;c=c.isElementVisible;var g=function(a,b){return{cumulative:a-b.startTs,duration:a-b.startTs,eventType:b.eventType,interval:a-b.cumulative-b.startTs,segmentid:b.segmentid+1,startTs:b.startTs}},h=function(c){if(c.segmentid>2)return;var d=babelHelpers["extends"]({},b("Banzai").VITAL,{signal:!1});c={cumulative:c.cumulative,duration:c.duration,eventType:c.eventType,interval:c.interval,segmentid:c.segmentid,startTs:c.startTs,xt:a};b("Banzai").post("comet_metrics:viewability",c,d)},j=function(a,b,c){if(c==null)return null;b=g(a,c);h(b);return null},k=function(a,b,c){c==null?b={cumulative:0,duration:0,eventType:b,interval:0,segmentid:0,startTs:a}:b=g(a,c);h(b);return b};!c?(e.current=j(d.time,b("PercentVisible").VISIBLE_0_PCT,e.current),f.current=j(d.time,b("PercentVisible").VISIBLE_50_PCT,f.current),i.current=j(d.time,b("PercentVisible").VISIBLE_100_PCT,i.current)):d.intersectionRatio<.5?(e.current=k(d.time,b("PercentVisible").VISIBLE_0_PCT,e.current),f.current=j(d.time,b("PercentVisible").VISIBLE_50_PCT,f.current),i.current=j(d.time,b("PercentVisible").VISIBLE_100_PCT,i.current)):d.intersectionRatio>=.5&&d.intersectionRatio<1?(e.current=k(d.time,b("PercentVisible").VISIBLE_0_PCT,e.current),f.current=k(d.time,b("PercentVisible").VISIBLE_50_PCT,f.current),i.current=j(d.time,b("PercentVisible").VISIBLE_100_PCT,i.current)):(e.current=k(d.time,b("PercentVisible").VISIBLE_0_PCT,e.current),f.current=k(d.time,b("PercentVisible").VISIBLE_50_PCT,f.current),i.current=k(d.time,b("PercentVisible").VISIBLE_100_PCT,i.current))},[a]);return b("useViewabilityImpression")({onIntersection:c})}e.exports=a}),null);
__d("CometGHLTracker",["gkx"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=new Set();function a(a){g.add(a)}function c(a){return b("gkx")("1181007")?!1:g.has(a)}function d(){return b("gkx")("1181007")?!1:g.size>0}f={b:d,c:c,m:a};e.exports=f}),null);
__d("GHLSurfaceContainerContext",["React"],(function(a,b,c,d,e,f){"use strict";a=b("React").createContext(null);e.exports=a}),null);
__d("useCometGHLDisplayMonitor",["requireDeferred","GHLSurfaceContainerContext","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("requireDeferred")("CometGHLDisplayMonitor"),h=b("React").useContext,i=b("React").useEffect,j=b("React").useRef;function a(a,c){__p&&__p();var d=j(null),e=h(b("GHLSurfaceContainerContext"));i(function(){var b=null,f=Date.now();if(e===null)return;var h=g.onReady(function(g){if(!a)return;b=g.m(e,{onCheck:c,startTime:f,targetRef:d})});return function(){h.remove(),b&&b.dispose()}},[e,a,c]);return d}e.exports=a}),null);
__d("useCometGHLFeedSurvey",["requireCond","requireDeferred","cr:919865","CometGHLTracker","React","useCometGHLDisplayMonitor"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("requireDeferred")("Banzai"),h=b("React").useCallback,i=b("React").useRef,j=0;function a(a){__p&&__p();var c=a.encryptedToken,d=a.position,e=i(!1);a=h(function(a){if(e.current)return;e.current=!0;f.current!==null&&b("CometGHLTracker").m(f.current);g.onReady(function(b){b.post("comet_metrics:swank",{ec:j,hd:a,sa:[],si:0,sli:d,ths:0,xt:c})});b("cr:919865")&&b("cr:919865").hoot(j,c,d,f.current,a)},[c,d]);var f=b("useCometGHLDisplayMonitor")(!e.current,a);return f}e.exports=a}),null);
__d("CometImpressionLoggingDelayTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){this.$1={}}var c=a.prototype;c.log=function(){b("GeneratedLoggerUtils").log("logger:CometImpressionLoggingDelayLoggerConfig",this.$1,b("Banzai").BASIC)};c.logVital=function(){b("GeneratedLoggerUtils").log("logger:CometImpressionLoggingDelayLoggerConfig",this.$1,b("Banzai").VITAL)};c.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:CometImpressionLoggingDelayLoggerConfig",this.$1,{signal:!0})};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setCancelLogDelayMs=function(a){this.$1.cancel_log_delay_ms=a;return this};c.setIsAds=function(a){this.$1.is_ads=a;return this};c.setIsLogged=function(a){this.$1.is_logged=a;return this};c.setLogDelayMs=function(a){this.$1.log_delay_ms=a;return this};c.setScrollSpeed=function(a){this.$1.scroll_speed=a;return this};c.setStartCallbackDelayMs=function(a){this.$1.start_callback_delay_ms=a;return this};c.setTime=function(a){this.$1.time=a;return this};c.setTimeFromLoad=function(a){this.$1.time_from_load=a;return this};c.setUseCase=function(a){this.$1.use_case=a;return this};c.setVC=function(a){this.$1.vc=a;return this};c.setWeight=function(a){this.$1.weight=a;return this};return a}();c={cancel_log_delay_ms:!0,is_ads:!0,is_logged:!0,log_delay_ms:!0,scroll_speed:!0,start_callback_delay_ms:!0,time:!0,time_from_load:!0,use_case:!0,vc:!0,weight:!0};e.exports=a}),null);
__d("CometVisitationManager",["FBLogger","isSearchCometGlobalResultPageTracePolicy","pageID"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g={"comet.marketplace.category":"comet.marketplace.home","comet.me":"comet.profile"},h={},i=null,j=null,k=!1;function l(a){return a.tracePolicy+":"+a.instanceId+":"+a.subsessionCount+":"+a.timeStampMs/1e3}function m(a){if(a==null)return;a=g[a]?g[a]:a;if(i===a)return;var c=h[a];c?(c.subsessionCount++,c.timeStampMs=Date.now()):h[a]={instanceId:b("pageID"),subsessionCount:1,timeStampMs:Date.now(),tracePolicy:a};j=i;i=a}a={getCurrentVisitationId:function(){__p&&__p();if(!k){b("FBLogger")("CometVisitationManager").mustfix("Attempting to get the current visitation id without initialization.");return null}if(!k||i==null||!h[i])return null;var a=l(h[i]);if(b("isSearchCometGlobalResultPageTracePolicy")(i)&&j!=null&&h[j]){var c=l(h[j]);return a+"|"+c}return a},init:function(a){if(k)return;m(a.tracePolicy);k=!0},update:function(a){if(!k){b("FBLogger")("CometVisitationManager").mustfix("Updating the visitation manager without initialization");return}m(a.main.route.tracePolicy)}};e.exports=a}),null);
__d("CometTimeSpentNavigation",["requireCond","CometVisitationManager","cr:1214433","getCometEntityKey","getEntityIDFromRoute"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=null,h=null,i=new Set();function j(){i.forEach(function(a){return a({destPathInfo:h,sourcePathInfo:g})})}a={changePath:function(a,c){__p&&__p();var d;c===void 0&&(c=null);g=h;d=(d=(d=b("getCometEntityKey")(a))==null?void 0:d.entity_id)!=null?d:b("getEntityIDFromRoute")(a);if(c&&c.profile_session_id!=null&&d!=null){var e;c.profile_session_id=(e=b("cr:1214433")&&b("cr:1214433").initOrExtend(d,(e=c)==null?void 0:e.profile_session_id))!=null?e:(e=c)==null?void 0:e.profile_session_id}e=babelHelpers["extends"]({uri:a.url},c);c=b("CometVisitationManager").getCurrentVisitationId();c!=null&&(e.visitation_id=c);e.container_id==null&&(d!=null&&(e.container_id=d));h={extraData:e,name:a.tracePolicy};j()},getPathInfo:function(){return h},getSourcePathInfo:function(){return g},listenToPathChange:function(a){i.add(a);return{cancelListen:function(){return i["delete"](a)}}}};e.exports=a}),null);
__d("getCentralImpressionIsResizing",[],(function(a,b,c,d,e,f){"use strict";var g=!1,h=null;a=function(){return g};window.addEventListener("resize",function(){g=!0,h&&clearTimeout(h),h=setTimeout(function(){g=!1},500)});e.exports=a}),null);
__d("getCentralImpressionIsScrolling",[],(function(a,b,c,d,e,f){"use strict";var g=!1,h=null;function a(){return g}b=function(){g=!0,h&&clearTimeout(h),h=setTimeout(function(){g=!1},100)};document.addEventListener("scroll",b,!0);e.exports=a}),null);
__d("sendImpressionEnterActionValidationData",["requireDeferred","CometTimeSpentNavigation","WebSession","getCentralImpressionIsResizing","getCentralImpressionIsScrolling","getCentralImpressionScrollSpeed","getCentralImpressionTimeAfterRefresh","isImpressionTargetOccluded"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("requireDeferred")("Banzai");function h(a){return a==="impression_api_comet_enter"||a==="impression_api_comet_after_dedup"||a==="ad_unit_generic_api_comet"||a==="ad_unit_generic_api_comet_after_dedup"}function a(a,c,d,e){var f=c.impressedAt,i=b("CometTimeSpentNavigation").getPathInfo(),j=babelHelpers["extends"]({cts:f,endpoint:i?i.name:null,occluded:h(a)&&c.target&&c.intersectionRect?b("isImpressionTargetOccluded")(c.target,c.intersectionRect):null,pre_rs:d?d.invisibleReason:null,rects:{intersect_rect:c.intersectionRect,root:c.rootBounds,target_rect:c.boundingClientRect},resizing:b("getCentralImpressionIsResizing")(),scroll_speed:b("getCentralImpressionScrollSpeed")(),scrolling:b("getCentralImpressionIsScrolling")(),sk:b("WebSession").getId(),time_from_load:b("getCentralImpressionTimeAfterRefresh")(),vp:c.visiblePercentage},e);g.onReady(function(b){var c=babelHelpers["extends"]({},b.VITAL,{signal:!0});b.post("viewability_events:"+a,j,c)})}e.exports=a}),null);
__d("sendImpressionExitActionValidationData",["requireDeferred","CometTimeSpentNavigation","WebSession","getCentralImpressionIsResizing","getCentralImpressionIsScrolling","getCentralImpressionScrollSpeed","getCentralImpressionTimeAfterRefresh"],(function(a,b,c,d,e,f){"use strict";var g=b("requireDeferred")("Banzai");function a(a,c,d,e){var f=c.impressedAt,h=b("CometTimeSpentNavigation").getPathInfo(),i=babelHelpers["extends"]({cts:f,duration:f?Date.now()-f:null,endpoint:h?h.name:null,exit_rs:c.invisibleReason,pre_vp:d?d.visiblePercentage:null,rects:{intersect_rect:c.intersectionRect,root:c.rootBounds,target_rect:c.boundingClientRect},resizing:b("getCentralImpressionIsResizing")(),scroll_speed:b("getCentralImpressionScrollSpeed")(),scrolling:b("getCentralImpressionIsScrolling")(),sk:b("WebSession").getId(),time_from_load:b("getCentralImpressionTimeAfterRefresh")(),vp:c.visiblePercentage},e);g.onReady(function(b){var c=babelHelpers["extends"]({},b.VITAL,{signal:!0});b.post("viewability_events:"+a,i,c)})}e.exports=a}),null);
__d("useStoryObserverImpressionLoggerExperimental",["requireCond","requireDeferred","CometGHLTracker","CometImpressionLoggingDelayTypedLogger","CometTimeSpentNavigation","React","WebSession","getCentralImpressionScrollSpeed","getCentralImpressionTimeAfterRefresh","ghlTestUBT","gkx","randomInt","sendImpressionEnterActionValidationData","sendImpressionExitActionValidationData","cr:1095633","setTimeout","usePartialViewImpression"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("requireDeferred")("Banzai"),h=b("React").useCallback,i=b("React").useEffect,j=b("React").useRef,k={can_delay_log_impression:!1,subsequent_gap_in_ms:6e4},l=5e3;function a(a,c,d,e,f){__p&&__p();e===void 0&&(e=!1);f===void 0&&(f=null);var m=babelHelpers["extends"]({},k,d),n=j(null),o=j(null),p=j(null),q=j(!1),r=j(!1);i(function(){b("ghlTestUBT")(function(a){q.current=a})},[]);i(function(){return function(){n.current=null,r.current=!1,p.current=null}},[f]);f=h(function(f){__p&&__p();var h=f.entry,i=f.visibleTime,j=function(e,f){f=Date.now();var h=b("CometTimeSpentNavigation").getPathInfo(),j=b("CometGHLTracker").c(e.target),k={csp:c,cts:Math.floor(f/1e3),etid:f+"_"+(b("randomInt")(0,4294967295)+1),hba:j,isv:1,me:h?h.name:null,sk:b("WebSession").getId(),vp:e.visiblePercentage,xt:a};g.onReady(function(a){var b=(d==null?void 0:d.use_banzai_vital_imp)===!0,c=(d==null?void 0:d.use_banzai_signal_imp)===!0;b=b?babelHelpers["extends"]({},a.VITAL,{signal:c}):{signal:c};a.post("comet_metrics:viewable_imp",k,b)});r.current=!0;b("cr:1095633")&&a!=null&&b("cr:1095633")("impression_api_comet_enter","LOG",a);new(b("CometImpressionLoggingDelayTypedLogger"))().setUseCase("impression_log_delay").setLogDelayMs(Date.now()-i).setTimeFromLoad(b("getCentralImpressionTimeAfterRefresh")()).setScrollSpeed(b("getCentralImpressionScrollSpeed")()).setIsAds(m.can_delay_log_impression||!1).log()},k={boundingClientRect:h.boundingClientRect,impressedAt:i,intersectionRect:h.intersectionRect,invisibleReason:null,rootBounds:h.rootBounds,status:"ENTER",target:h.target,visible:!0,visiblePercentage:h.intersectionRatio};e&&b("sendImpressionEnterActionValidationData")("impression_api_comet_enter",k,null,{csp:c,pre_rs:n.current,xt:a});b("cr:1095633")&&a!=null&&b("cr:1095633")("impression_api_comet_enter","ENTER",a);if(p.current||o.current)return;new(b("CometImpressionLoggingDelayTypedLogger"))().setUseCase("impression_start_delay").setStartCallbackDelayMs(Date.now()-i).setTimeFromLoad(b("getCentralImpressionTimeAfterRefresh")()).setScrollSpeed(b("getCentralImpressionScrollSpeed")()).setIsAds(m.can_delay_log_impression||!1).log();if(m.can_delay_log_impression===!0&&(q.current||b("CometGHLTracker").b()||b("gkx")("986925"))){f=l;o.current=b("setTimeout")(function(){j&&j(k,"AD_BLOCKER"),o.current=null},f)}else j&&j(k,r.current?"DEDUP":"ORIGINAL")},[e,m.can_delay_log_impression,c,a]);var s=h(function(d){var f=d.hiddenReason,g=d.visibleDuration;d=d.visibleTime;e&&b("sendImpressionExitActionValidationData")("impression_api_comet_exit",{impressedAt:d,invisibleReason:f,visiblePercentage:0},null,{csp:c,duration:g,pre_rs:n.current,xt:a});b("cr:1095633")&&a!=null&&b("cr:1095633")("impression_api_comet_enter","EXIT",a);n.current=f;if(p.current)return;(r.current||o.current)&&(p.current=b("setTimeout")(function(){r.current=!1,p.current=null},m.subsequent_gap_in_ms))},[m.subsequent_gap_in_ms,c,a,e]);return b("usePartialViewImpression")({onImpressionEnd:s,onImpressionStart:f})}e.exports=a}),null);
__d("CentralImpressionRecord",["getStyleProperty","intersectionObserverEntryIsIntersecting"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){return{impressedAt:0,invisibleReason:null,status:null,target:a,visible:!1,visiblePercentage:0}}function c(a,c){var d=a.target,e=a.boundingClientRect,f=null,g=!1;!b("intersectionObserverEntryIsIntersecting")(a)?f="NOT_IN_VIEWPORT":e==null?f="UNDEFINED_BOUNDING_RECT":e.height===0||e.width===0?f="TARGET_SIZE_0":b("getStyleProperty")(d,"opacity")==="0"?f="TARGET_TRANSPARENT":b("getStyleProperty")(d,"visibility")==="hidden"?f="TARGET_HIDDEN":g=!0;e=g===!1?0:a.intersectionRatio;var h=c.visible,i=c.impressedAt,j=null;h&&!g?j="EXIT":!h&&g?(j="ENTER",i=Date.now()):c.visiblePercentage!==e&&(j="UPDATE");return{boundingClientRect:a.boundingClientRect,impressedAt:i,intersectionRect:a.intersectionRect,invisibleReason:f,rootBounds:a.rootBounds,status:j,target:d,visible:g,visiblePercentage:e}}function g(a,b){return!a.visible?null:babelHelpers["extends"]({},a,{invisibleReason:b,status:"EXIT",visible:!1,visiblePercentage:0})}function d(a){return g(a,"PUSH_VIEW_HIDDEN")}function f(a){return g(a,"COMPONENT_UNMOUNTED")}function h(a){return g(a,"PAGE_VISIBILITY_HIDDEN")}e.exports={calcExitRecordOnPushViewHidden:d,calcExitRecordOnUnmount:f,calcExitRecordOnViewportHidden:h,calcNextObservedRecord:c,initImpressionRecord:a}}),null);
__d("calculateImpressionViewablePercentage",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g={height:0,width:0,x:0,y:0};function h(a,b){var c=Math.max(a.y,b.y),d=Math.min(a.y+a.height,b.y+b.height);if(c>=d)return g;var e=Math.max(a.x,b.x);a=Math.min(a.x+a.width,b.x+b.width);return e>=a?g:{height:d-c,width:a-e,x:e,y:c}}function a(a,b,c){b={height:b.height-c.top-c.bottom,width:b.width-c.left-c.right,x:b.x+c.left,y:b.y+c.top};if(a.height===0||a.width===0)return{boundingClientRect:a,rootBounds:b,visiblePercentage:1};if(b.height<=0||b.width<=0)return{boundingClientRect:a,rootBounds:b,visiblePercentage:0};c=h(b,a);return{boundingClientRect:a,intersectionRect:c,rootBounds:b,visiblePercentage:c.height*c.width/(a.height*a.width)}}e.exports=a}),null);
__d("calcNextImpressionSnapshotRecord",["Visibility","calculateImpressionViewablePercentage","getElementPosition","getStyleProperty","getViewportDimensions","isImpressionTargetOccluded"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g={bottom:0,left:0,right:0,top:0};function h(a){__p&&__p();if(a==null||document.documentElement==null)return null;a=a.parentElement;while(a!=null){if(a===document.documentElement||a.nodeType!==1)return null;if(b("getStyleProperty")(a,"position")==="absolute"&&b("getStyleProperty")(a,"overflow")!=="visible")return a;a=a.parentElement}return null}function a(a,c,d){__p&&__p();d===void 0&&(d={});var e=b("getElementPosition")(a),f=babelHelpers["extends"]({x:0,y:0},b("getViewportDimensions")()),i=b("calculateImpressionViewablePercentage")(e,f,g),j=!1;if(i.visiblePercentage>0){var k=h(a);k!=null&&i.intersectionRect!=null&&(j=!0,i=b("calculateImpressionViewablePercentage")(i.intersectionRect,b("getElementPosition")(k),g))}k=d;k=k.viewportMargin;j=k&&!j?b("calculateImpressionViewablePercentage")(e,f,k):i;j.visiblePercentage;f=babelHelpers.objectWithoutPropertiesLoose(j,["visiblePercentage"]);i=i;var l=i.intersectionRect;i=i.visiblePercentage;var m=null,n=!1;i<=0?m="NOT_IN_VIEWPORT":l&&b("isImpressionTargetOccluded")(a,l,k||g)?m=j.visiblePercentage===0?"OCCLUDED_BY_MARGIN":d.isCometHiddenSubtree===!0?"PUSH_VIEW_HIDDEN":"OCCLUSION_DETECTED":b("Visibility").isHidden()?m="PAGE_VISIBILITY_HIDDEN":e.height===0||e.width===0?m="TARGET_SIZE_0":b("getStyleProperty")(a,"opacity")==="0"?m="TARGET_TRANSPARENT":b("getStyleProperty")(a,"visibility")==="hidden"?m="TARGET_HIDDEN":n=!0;i=n===!1?0:j.visiblePercentage;l=c.visible;k=c.impressedAt;d=null;l&&!n?d="EXIT":!l&&n?(d="ENTER",k=Date.now()):c.visiblePercentage!==i&&(d="UPDATE");return babelHelpers["extends"]({impressedAt:k,invisibleReason:m,status:d,target:a,visible:n,visiblePercentage:i},f)}e.exports=a}),null);
__d("CentralImpressionScrollBasedTracker",["CentralImpressionRecord","CometThrottle","ImpressionLoggingTimerThreshold","Visibility","calcNextImpressionSnapshotRecord","gkx","setTimeout"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("CentralImpressionRecord").calcExitRecordOnUnmount,h=b("CentralImpressionRecord").initImpressionRecord,i=b("ImpressionLoggingTimerThreshold").THROTTLE_TIMEOUT;a=function(){__p&&__p();function a(a,c,d,e){__p&&__p();var f=this;d===void 0&&(d=null);e===void 0&&(e={});this.THROTTLE_TIMEOUT=i;this.takeSnapshot=b("CometThrottle")(function(){__p&&__p();if(f.$3==null||f.$8===!0)return;if(b("gkx")("1275922"))window.requestAnimationFrame(function(){window.requestAnimationFrame(function(){var a=b("calcNextImpressionSnapshotRecord")(f.$3,f.$2,f.$7);f.$9(a)})});else{var a=b("calcNextImpressionSnapshotRecord")(f.$3,f.$2,f.$7);f.$9(a)}},this.THROTTLE_TIMEOUT);this.$5=d;this.$2=h(a);this.$1=c;this.$3=a;this.$7=e;this.$8=!1;b("setTimeout")(this.takeSnapshot,0);document.addEventListener("scroll",this.takeSnapshot,{capture:!0,passive:!0});window.addEventListener("resize",this.takeSnapshot);"MutationObserver"in window&&(this.$6=new MutationObserver(this.takeSnapshot),this.$6.observe(document,{attributes:!0,characterData:!0,childList:!0,subtree:!0}));this.$4=[b("Visibility").addListener(b("Visibility").HIDDEN,this.takeSnapshot),b("Visibility").addListener(b("Visibility").VISIBLE,this.takeSnapshot)]}var c=a.prototype;c.getOptionalUniqueID=function(){return this.$5};c.peek=function(){return this.$2};c.setIsCometHiddenInSubtree=function(a){this.$7.isCometHiddenSubtree=a};c.remove=function(){document.removeEventListener("scroll",this.takeSnapshot,{capture:!0,passive:!0}),window.removeEventListener("resize",this.takeSnapshot),this.$6&&this.$6.disconnect(),this.$4.forEach(function(a){return a.remove()}),this.$8=!0};c.unmount=function(){var a=g(this.$2);a!=null&&this.$9(a);this.remove()};c.update=function(a,b,c){c===void 0&&(c={}),this.$1=b,this.$3=a,this.$7=babelHelpers["extends"]({},this.$7,c)};c.$9=function(a){var b=this.$2;this.$2=a;a.status!=null&&this.$1(a,this,b,this.$7.isAdRefresh||!1)};return a}();e.exports=a}),null);
__d("useScrollBasedImpressionTracker",["CentralImpressionScrollBasedTracker","CometViewportMarginsContext","HiddenSubtreePassiveContext","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=(c=b("React")).useCallback,h=c.useContext,i=c.useEffect,j=c.useRef;function a(a,c){__p&&__p();var d=j(null),e=j(null),f=h(b("CometViewportMarginsContext")),k=j(null),l=h(b("HiddenSubtreePassiveContext")),m=g(function(c){__p&&__p();if(d.current==null)return;if(e.current==null||c!=null&&e.current.getOptionalUniqueID()!==c){var g=!1;e.current!=null&&(e.current.unmount(),e.current=null,g=!0);e.current=new(b("CentralImpressionScrollBasedTracker"))(d.current,a,c,{isAdRefresh:g,isCometHiddenSubtree:l.getCurrentState().hiddenOrBackgrounded_FIXME,viewportMargin:f});k.current!=null&&(k.current.remove(),k.current=null);k.current=l.subscribeToChanges(function(a){e.current!=null&&e.current.setIsCometHiddenInSubtree(a.hiddenOrBackgrounded_FIXME)})}else e.current.update(d.current,a,{isCometHiddenSubtree:l.getCurrentState().hiddenOrBackgrounded_FIXME,viewportMargin:f})},[l,a,f]),n=g(function(a){d.current!==a&&a!=null&&(d.current=a,m(c))},[m,c]);i(function(){return function(){e.current!=null&&(e.current.unmount(),e.current=null),k.current!=null&&(k.current.remove(),k.current=null)}},[]);i(function(){m(c)},[m,c]);return n}e.exports=a}),null);
__d("useStoryScrollBasedImpression2ndChannel",["requireCond","React","sendImpressionEnterActionValidationData","cr:1094190","cr:1095633","useScrollBasedImpressionTracker"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("React").useCallback;function a(a,c,d){d=g(function(d,e,f){if(a==null)return;d.status==="ENTER"?b("sendImpressionEnterActionValidationData")("scroll_comet",d,f,{csp:c,xt:a}):d.status==="EXIT"&&b("cr:1094190")&&b("cr:1094190")("scroll_comet_exit",d,f,{csp:c,xt:a});b("cr:1095633")&&(d.status==="ENTER"||d.status==="EXIT")&&b("cr:1095633")("scroll_comet",d.status,a)},[a,c]);return b("useScrollBasedImpressionTracker")(d)}e.exports=a}),null);
__d("useStoryViewabilityLogger",["requireCond","React","cr:942252","mergeRefs","useCometGHLFeedSurvey","useStoryFullViewLogger","useStoryObserverImpressionLoggerExperimental","useStoryScrollBasedImpression2ndChannel","useStoryViewabilityDurationLogger","useStoryVPVDLogger"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("React").useMemo;function a(a){__p&&__p();var c=a.clientViewConfig;c=c===void 0?null:c;var d=a.contentIdentifier;d=d===void 0?null:d;var e=a.disabledViewabilityEventTypes,f=a.encryptedTracking,h=a.position,i=a.viewabilityConfig;a=a.vpvdOptionalData;var j=[];function k(a,b){return i&&i.includes(a)&&(!e||!e.includes(a))?b:null}var l=!!i&&i.some(function(a){return a===7}),m=k(8,b("useStoryObserverImpressionLoggerExperimental")(f,h,c,l,d)),n=k(7,b("useStoryScrollBasedImpression2ndChannel")(f,h,c)),o=k(2,b("useStoryFullViewLogger")(f,h,c)),p=k(3,b("useStoryViewabilityDurationLogger")(f,h,c));l=b("useStoryVPVDLogger")(babelHelpers["extends"]({},a,{position:h,trackable:f}));d=l[0];a=l[1];j.push(a);var q=k(5,d),r=b("useCometGHLFeedSurvey")({clientViewConfig:c,encryptedToken:f,position:h}),s=b("cr:942252")?k(6,b("cr:942252")(f)):null;l=g(function(){return b("mergeRefs")(m,n,o,p,q,r,s)},[m,n,o,p,q,r,s]);return{debuggingInfoLoggers:j.map(function(a,c){return b("React").jsx("div",{children:a},c)}),ref:l}}e.exports=a}),null);
__d("CometTrackingCodeProvider.react",["CometTrackingCodeContext","React","shallowEqual"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=(c=b("React")).useContext,h=c.useMemo,i=c.useRef;function a(a){__p&&__p();var c=a.children;a=a.trackingCode;var d=i({click_tracking_linkshim_cb:"",encrypted_click_tracking:"",encrypted_tracking:""});b("shallowEqual")(d.current,a)||(d.current=a);var e=g(b("CometTrackingCodeContext"));a=h(function(){var a={click_tracking_linkshim_cb:e.click_tracking_linkshim_cb,encrypted_click_tracking:e.encrypted_click_tracking,encrypted_tracking:e.encrypted_tracking};for(var b in a)d.current[b]&&d.current[b]!==""&&(a[b]=[].concat(a[b],[d.current[b]]));return a},[e]);return b("React").jsx(b("CometTrackingCodeContext").Provider,{value:a,children:c})}e.exports=c.memo(a)}),null);