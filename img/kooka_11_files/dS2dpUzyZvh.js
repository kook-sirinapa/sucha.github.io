if (self.CavalryLogger) { CavalryLogger.start_js(["jPHft"]); }

__d("CometUFIFlatThreadedRepliesListRenderer_config$normalization.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"SplitOperation",name:"CometUFIFlatThreadedRepliesListRenderer_config$normalization",metadata:{derivedFrom:"CometUFIFlatThreadedRepliesListRenderer_config"},selections:[{kind:"ScalarField",alias:null,name:"offset_lines_enabled",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"curved_lines_enabled",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"grouped_replies_indentation_enabled",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"should_check_reply_ordering",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"threaded_lines_enabled",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"max_depth",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"experimental_clear_lines_enabled",args:null,storageKey:null}]};e.exports=a}),null);
__d("CometUFIFlatThreadedRepliesListRenderer_config.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"Fragment",name:"CometUFIFlatThreadedRepliesListRenderer_config",type:"FlatThreadingFeedbackConfig",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"offset_lines_enabled",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"curved_lines_enabled",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"grouped_replies_indentation_enabled",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"should_check_reply_ordering",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"threaded_lines_enabled",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"max_depth",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"experimental_clear_lines_enabled",args:null,storageKey:null}]};e.exports=a}),null);
__d("CometUFIFlatThreadedLineWrappedComponent.react",["React","stylex"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;function a(a){var c=a.children,d=a.clearLines,e=a.depth,f=a.isLast,h=a.linePosition;a=a.lineStyle;var i=null;switch(a){case"CURVED":i=b("React").jsxs(b("React").Fragment,{children:[f!==!0&&b("React").jsx("div",{className:"dsl5tyj5 rqxqiv5q pmk7jnqg me31hnl3 i09qtzwb b3i9ofy5"}),b("React").jsx("div",{className:(g||(g=b("stylex"))).dedupe({"border-bottom-start-radius-1":"ns4ygwem","border-bottom-style-0.4":"s44p3ltw","border-bottom-width-0.4":"tpcyxxvw","border-top-color-0.4":"qr6iehes","border-end-color-0.4":"pw8ppx28","border-bottom-color-0.4":"k973klho","border-start-color-0.4":"kywkl1fr","border-start-style-0.4":"mk2mc5f4","border-start-width-0.4":"k0bpgpbk","box-shadow-1":"pdobqm6n","height-1":"me31hnl3","position-1":"pmk7jnqg","start-1":"pq182rtd","top-1":"kr520xx4","width-1":"hhz5lgdu"},h==="TOP"?{"height-1":"rgmg9uty"}:null,e===1?{"start-1":"rqxqiv5q","width-1":"mindcfhs"}:null,d?{"border-top-color-0.4":"np69z8it","border-end-color-0.4":"et4y5ytx","border-bottom-color-0.4":"j7g94pet","border-start-color-0.4":"b74d5cxt"}:null)})]});break;case"OFFSET":i=e>1?b("React").jsxs("div",{className:"dsl5tyj5 tqkokhi3 pmk7jnqg datstx6m cbu4d94t j83agx80",children:[b("React").jsx("div",{className:(g||(g=b("stylex"))).dedupe({"background-color-1":"b3i9ofy5","flex-grow-1":"buofh1pr","height-1":"datstx6m","width-1":"k4urcfbm"},d?{"background-color-1":"cwj9ozl2"}:null)}),f===!0&&b("React").jsx("div",{className:"k4urcfbm am38r5jf"})]}):null;break}return c!=null?b("React").jsxs("div",{className:(e>1?"rkei8ybe":"")+" l9j0dhe7",children:[i,c]}):null}e.exports=a}),null);
__d("CometUFIFlatThreadedReply.react",["CometFeedVisitationContext","CometPlaceholder.react","CometUFIComment.react","CometUFIComposer.react","CometUFIFlatThreadedLineWrappedComponent.react","JSResourceForInteraction","React","UFI2CommentsConfig","UFI2CommentTranslateAllButton.react","getViewportViewDurationPropertiesFromTrackingData","isCometCommentFresh","isCommentTokenOrFBID","lazyLoadComponent","logCommentViewportViewDuration","stylex"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("React").useCallback,i=b("React").useContext,j=b("lazyLoadComponent")(b("JSResourceForInteraction")("CometUFICommentEditor.react",{"class":"fluid",name:"Comet UFI Comment Editor",oncall:"ufight_club"}));function k(a){__p&&__p();var c=a.actor,d=a.clearLines,e=a.comment,f=a.composerPluginProps,l=a.depth,m=a.editingCommentID,n=a.feedbackSource,o=a.feedLocation,p=a.focusCommentID,q=a.indentationEnabled,r=a.isLast,s=a.isReplyComposerVisible,t=a.lineStyle,u=a.nestedComments,v=a.onCommitCommentCreate,w=a.onEditCommentError,x=a.onTranslateAllClick,y=a.renderedTranslationCommentID,z=a.repliesListRenderProps,A=a.replyComposerParent,B=a.setEditingCommentID,C=a.setRenderedTranslationCommentID,D=a.shouldRequestTranslationForAllComments,E=a.storyRenderLocation;a=z.getCommentEditorProps;var F=z.getCommentProps,G=z.getComposerProps;G=G();var H=G.placeholder;G=babelHelpers.objectWithoutPropertiesLoose(G,["placeholder"]);var I=i(b("CometFeedVisitationContext"));I=I.feedLastVisitTime;var J=l>1&&q,K=s&&A!=null&&A===(e==null?void 0:e.id),L=e==null?void 0:e.id,M=h(function(){L!=null&&B(L)},[L,B]),N=h(function(){L!=null&&C(L)},[L,C]),O=h(function(){L!=null&&y===L&&C(null)},[L,y,C]),P=null;if(e!=null){F=F(e);var Q=F.key;F=babelHelpers.objectWithoutPropertiesLoose(F,["key"]);P=b("React").createElement(b("CometUFIComment.react"),babelHelpers["extends"]({},F,{disableFreshIndicator:!0,feedLocation:o,feedbackSource:n,isHighlighted:b("isCommentTokenOrFBID")(p,e),key:Q,logCommentViewportViewDuration:e.optimistic_action==null&&e.optimistic_error==null?function(a,c){b("logCommentViewportViewDuration")(babelHelpers["extends"]({commentID:e.id,isLivePinnedComment:!1,isReply:!1,milliseconds:a,storyRenderLocation:E},b("getViewportViewDurationPropertiesFromTrackingData")(c)))}:null,onEdit:M,onTranslated:N,onUntranslated:O,storyRenderLocation:E,translationRequested:D}));if(L!=null&&L===m){P=(F=b("React")).jsx(b("CometPlaceholder.react"),{fallback:F.jsx("div",{"aria-busy":"true",className:"aero",children:P}),children:F.jsx("div",{className:"fnu23jab",children:F.jsx(j,babelHelpers["extends"]({},f,a(),{comment:e,commentId:L,commentProfilePictureSizeDepth0:b("UFI2CommentsConfig").profilePictureSize32,commentProfilePictureSizeDepth1:b("UFI2CommentsConfig").profilePictureSize20,depth:l,feedbackSource:n,onError:w,onFinishEdit:function(){return B(null)},storyRenderLocation:E}))})})}}return b("React").jsxs("li",{className:"l9j0dhe7"+(J?" jg4yhqs5":""),children:[t==="FLAT"&&b("React").jsxs("div",{className:"dsl5tyj5 kr520xx4 ssbw22ou pmk7jnqg datstx6m cbu4d94t j83agx80",children:[b("React").jsx("div",{className:e?"kn9t4qvh":""}),b("React").jsx("div",{className:(g||(g=b("stylex"))).dedupe({"background-color-1":"b3i9ofy5","flex-grow-1":"buofh1pr"},d?{"background-color-1":"cwj9ozl2"}:null)})]}),t==="CURVED"&&!r&&b("React").jsxs("div",{className:(g||(g=b("stylex"))).dedupe({"display-1":"j83agx80","flex-direction-1":"cbu4d94t","height-1":"datstx6m","position-1":"pmk7jnqg","start-1":"ssbw22ou","top-1":"kr520xx4","width-1":"dsl5tyj5"},l===1?{"start-1":"rqxqiv5q"}:null,d?{"background-color-1":"cwj9ozl2"}:null),children:[e!=null&&b("React").jsx("div",{className:"k4urcfbm ed3p1gfi"}),b("React").jsx("div",{className:(g||(g=b("stylex"))).dedupe({"background-color-1":"b3i9ofy5","flex-grow-1":"buofh1pr","width-1":"k4urcfbm"},d?{"background-color-1":"cwj9ozl2"}:null)})]}),t==="OFFSET"&&l>1&&b("React").jsxs("div",{className:"dsl5tyj5 baoioj8l pmk7jnqg datstx6m cbu4d94t j83agx80",children:[b("React").jsx("div",{className:(g||(g=b("stylex"))).dedupe({"background-color-1":"b3i9ofy5","flex-grow-1":"buofh1pr","height-1":"datstx6m","width-1":"k4urcfbm"},d?{"background-color-1":"cwj9ozl2"}:null)}),r&&b("React").jsx("div",{className:"k4urcfbm am38r5jf"})]}),e&&b("React").jsxs("ul",{className:"l9j0dhe7",children:[e!=null&&b("isCometCommentFresh")(e,(Q=I)!=null?Q:void 0)&&b("React").jsx("div",{className:(g||(g=b("stylex"))).dedupe({"background-color-1":"is6700om","height-1":"datstx6m","position-1":"pmk7jnqg","start-1":"j9ispegn","top-1":"kr520xx4","width-1":"dsl5tyj5"},l===1?{"start-1":"ghkatn0t"}:null,l===2?{"start-1":"ze6qioqs"}:null,l>=3?{"start-1":"mgvxofm7"}:null)}),t==="CURVED"&&b("React").jsxs(b("React").Fragment,{children:[(u.length>0||K)&&b("React").jsxs("div",{className:"dsl5tyj5 kr520xx4 ssbw22ou pmk7jnqg datstx6m cbu4d94t j83agx80",children:[b("React").jsx("div",{className:"kn9t4qvh"}),b("React").jsx("div",{className:(g||(g=b("stylex"))).dedupe({"background-color-1":"b3i9ofy5","flex-grow-1":"buofh1pr"},d?{"background-color-1":"cwj9ozl2"}:null)})]}),b("React").jsx("div",{className:(g||(g=b("stylex"))).dedupe({"border-bottom-start-radius-1":"ns4ygwem","border-bottom-style-0.4":"s44p3ltw","border-bottom-width-0.4":"tpcyxxvw","border-top-color-0.4":"qr6iehes","border-end-color-0.4":"pw8ppx28","border-bottom-color-0.4":"k973klho","border-start-color-0.4":"kywkl1fr","border-start-style-0.4":"mk2mc5f4","border-start-width-0.4":"k0bpgpbk","box-shadow-1":"pdobqm6n","height-1":"kmzbrmfl","position-1":"pmk7jnqg","start-1":"pq182rtd","top-1":"kr520xx4","width-1":"hhz5lgdu"},l===1?{"start-1":"rqxqiv5q","width-1":"mindcfhs"}:null,d?{"border-top-color-0.4":"np69z8it","border-end-color-0.4":"et4y5ytx","border-bottom-color-0.4":"j7g94pet","border-start-color-0.4":"b74d5cxt"}:null)})]}),P,L===y&&!D?b("React").jsx("div",{className:"e5nlhep0 enqfppq2",children:b("React").jsx(b("UFI2CommentTranslateAllButton.react"),{onClick:x})}):null]}),b("React").jsxs("ul",{children:[u.map(function(a,e){return b("React").createElement(k,babelHelpers["extends"]({},babelHelpers["extends"]({},a,{actor:c,clearLines:d,composerPluginProps:f,editingCommentID:m,feedLocation:o,feedbackSource:n,focusCommentID:p,indentationEnabled:q,isLast:e===u.length-1&&!K,isReplyComposerVisible:s,lineStyle:t,onCommitCommentCreate:v,onEditCommentError:w,onTranslateAllClick:x,renderedTranslationCommentID:y,repliesListRenderProps:z,replyComposerParent:A,setEditingCommentID:B,setRenderedTranslationCommentID:C,shouldRequestTranslationForAllComments:D,storyRenderLocation:E}),{key:e}))}),K&&c!=null&&b("React").jsx(b("CometUFIFlatThreadedLineWrappedComponent.react"),{clearLines:d,depth:l+1,isLast:!0,linePosition:"TOP",lineStyle:t,children:b("React").jsx(b("CometUFIComposer.react"),babelHelpers["extends"]({},f,G,{actor:c,className:"a8nywdso sj5x9vvc hv4rvrfc cxgpxx05",commentAction:"ADD",depth:1,onCommit:v,placeholder:(N=e==null?void 0:(M=e.feedback)==null?void 0:M.comment_composer_placeholder)!=null?N:H}))})]})]})}e.exports=k}),null);
__d("CometUFIFlatThreadedRepliesListRenderer.react",["CometRelay","CometUFICommentsPager.react","CometUFIComposer.react","CometUFIFlatThreadedLineWrappedComponent.react","CometUFIFlatThreadedReply.react","CometUFIHiddenCommentsPlaceholder.react","CometUFIRepliesCollapser.react","CometUFIRepliesExpander.react","FlatThreadingUtils","React","UFI2ViewOption","stylex","unrecoverableViolation","CometUFIFlatThreadedRepliesListRenderer_config.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h;b("CometRelay").graphql;var i=b("CometRelay").useFragment,j=b("React").useEffect,k=b("React").useState,l=3;function a(a){__p&&__p();var c=i(g!==void 0?g:g=b("CometUFIFlatThreadedRepliesListRenderer_config.graphql"),a.config),d=a.actor,e=a.addReplyToCommentCallback,f=a.addReplyToReplyCallback,m=a.clearReplyToCommentCallback,n=a.clearReplyToReplyCallback,o=a.composerPluginProps,p=a.editingCommentID,q=a.feedbackSource,r=a.feedLocation,s=a.focusCommentID,t=a.onCommitCommentCreate,u=a.onEditCommentError,v=a.onTranslateAllClick,w=a.renderedTranslationCommentID,x=a.repliesListRenderProps,y=a.setEditingCommentID,z=a.setRenderedTranslationCommentID,A=a.shouldRequestTranslationForAllComments,B=a.storyRenderLocation;if(x.depth!==1)throw b("unrecoverableViolation")("UFI2FlatThreadedRepliesListRenderer: Must be rendered at depth 1","multithreading");var C=x.Selectors,D=x.depth;a=x.getComposerProps;var E=x.getHiddenCommentsPlaceholderProps,F=x.getPagerPropsForNewerComments,G=x.getPagerPropsForOlderComments,H=x.getRepliesCollapserProps,I=x.getRepliesExpanderProps,J=x.listState,K=x.viewOption,L=k(null),M=L[0],N=L[1],O={},P=K==="RANKED_SUB_REPLIES"&&c.grouped_replies_indentation_enabled===!0,Q=(L=c.max_depth)!=null?L:l,R=a().componentRef;j(function(){__p&&__p();if(!P||typeof R!=="function")return;var a=function(a){var b;a=a===null?null:O[a.id];a=a!=null&&a.depth>=Q?(b=a.parent)==null?void 0:(b=b.comment)==null?void 0:b.id:a==null?void 0:(b=a.comment)==null?void 0:b.id;a!==M&&(R(null),N(a))};e(a);f(a);return function(){m(a),n(a)}},[e,f,m,n,R,P,Q,O,M]);L=b("UFI2ViewOption").isChronologicalOrder(K);var S="NONE";c.threaded_lines_enabled===!0&&(c.should_check_reply_ordering===!1||K==="RANKED_SUB_REPLIES")&&(c.curved_lines_enabled===!0?S="CURVED":c.offset_lines_enabled===!0?S="OFFSET":S="FLAT");var T=d!=null&&C.isComposerVisible({depth:D,state:J}),U=C.isListExpanded({depth:D,state:J}),V=C.isRepliesExpanderLoading({depth:D,state:J}),W=C.isRepliesExpanderVisible({depth:D,state:J}),X=C.getVisibleCommentsCount({depth:D,state:J}),Y=C.getVisibleCommentsWithHiddenCommentsCollapsed({depth:1,reverse:b("UFI2ViewOption").isChronologicalOrder(K),state:J});L=[L?G():F(),L?F():G()].map(function(a){var c=a.direction;return!C.isPagerVisible({depth:D,direction:c,state:J})?null:b("React").jsx(b("CometUFICommentsPager.react"),babelHelpers["extends"]({},a,{className:"ecm0bbzt e5nlhep0 hcukyx3x oygrvhab cxmmr5t8 kvgmc6g5 s9tut2pw"}))});F=L[0];var Z=L[1],$=(M==null||!P)&&(T||X===0||Y.length===0);G={clearLines:c.experimental_clear_lines_enabled===!0,depth:1,linePosition:"CENTER",lineStyle:S};L=!U||V?W?b("React").jsx(b("CometUFIFlatThreadedLineWrappedComponent.react"),babelHelpers["extends"]({},G,{isLast:!0,children:b("React").jsx(b("CometUFIRepliesExpander.react"),babelHelpers["extends"]({},I(),{className:"ecm0bbzt e5nlhep0 hcukyx3x oygrvhab cxmmr5t8 kvgmc6g5 s9tut2pw"}))})):null:b("React").jsxs(b("React").Fragment,{children:[b("React").jsx("div",{className:"rqxqiv5q l9j0dhe7"+(S==="CURVED"?" g0zvkr4g":""),children:b("React").jsx(b("CometUFIRepliesCollapser.react"),babelHelpers["extends"]({},H(),{className:"c4f5jtg6 qt6c0cv9 rz4wbd8a jb3vyjys jklb3kyz owomucta n3ffmt46 e9vueds3 j83agx80 o8rfisnq"}))}),F&&b("React").jsx(b("CometUFIFlatThreadedLineWrappedComponent.react"),babelHelpers["extends"]({},G,{children:F})),X>0?b("React").jsx("ul",{children:Y.map(function(a,e){__p&&__p();if(a.state==="COLLAPSED")return b("React").jsx(b("CometUFIHiddenCommentsPlaceholder.react"),babelHelpers["extends"]({},E(),{commentIDs:a.comments.map(function(a){return a.id})}));if(a.state!=="VISIBLE")return null;a=b("FlatThreadingUtils").parseNestedCommentsList(a.comments,K,Q);var f=a[0];a=a[1];O=babelHelpers["extends"]({},a);return b("React").jsx(b("React").Fragment,{children:f.map(function(a,e){return b("React").createElement(b("CometUFIFlatThreadedReply.react"),babelHelpers["extends"]({},babelHelpers["extends"]({},a,{actor:d,clearLines:c.experimental_clear_lines_enabled===!0,composerPluginProps:o,editingCommentID:p,feedLocation:r,feedbackSource:q,focusCommentID:s,indentationEnabled:c.grouped_replies_indentation_enabled===!0&&K==="RANKED_SUB_REPLIES",isLast:e===f.length-1&&!($||Z!=null),isReplyComposerVisible:T&&P,lineStyle:S,onCommitCommentCreate:t,onEditCommentError:u,onTranslateAllClick:v,renderedTranslationCommentID:w,repliesListRenderProps:x,replyComposerParent:M,setEditingCommentID:y,setRenderedTranslationCommentID:z,shouldRequestTranslationForAllComments:A,storyRenderLocation:B}),{key:e}))})},e)})}):null,Z&&b("React").jsx(b("CometUFIFlatThreadedLineWrappedComponent.react"),babelHelpers["extends"]({},G,{isLast:!$,children:Z})),$&&d!=null&&b("React").jsx(b("CometUFIFlatThreadedLineWrappedComponent.react"),{clearLines:c.experimental_clear_lines_enabled===!0,depth:1,isLast:!0,linePosition:"TOP",lineStyle:S,children:b("React").jsx(b("CometUFIComposer.react"),babelHelpers["extends"]({},o,a(),{actor:d,className:"a8nywdso sj5x9vvc hv4rvrfc cxgpxx05",commentAction:"ADD",depth:1,onCommit:t}))})]});return b("React").jsxs("div",{className:"l9j0dhe7 cxgpxx05 d0szoon8 o7xrwllt",children:[S==="OFFSET"&&b("React").jsxs("div",{className:"dsl5tyj5 q4yd4shk pmk7jnqg datstx6m cbu4d94t j83agx80",children:[b("React").jsx("div",{className:"p3ovkuyr"}),b("React").jsx("div",{className:(h||(h=b("stylex"))).dedupe({"background-color-1":"b3i9ofy5","flex-grow-1":"buofh1pr"},c.experimental_clear_lines_enabled===!0?{"background-color-1":"cwj9ozl2"}:null)}),b("React").jsx("div",{className:"cyypbtt7"})]}),L]})}e.exports=a}),null);