if (self.CavalryLogger) { CavalryLogger.start_js(["OVqQj"]); }

__d("CometRootContainer.react",["requireCond","cr:1119068","React","stylex"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){a=a.children;var c=b("React").useRef(null);b("React").useEffect(function(){b("cr:1119068")!=null&&c.current!=null&&b("cr:1119068").init(c.current);return function(){b("cr:1119068")!=null&&b("cr:1119068").clear()}},[]);return b("React").jsx("div",{className:"du4w35lb l9j0dhe7 cbu4d94t j83agx80",ref:c,children:a})}e.exports=a}),null);
__d("CometRelayEntryPointEnvironmentProvider",["CometRelayEnvironmentFactory"],(function(a,b,c,d,e,f){"use strict";function a(a){a=a==null?void 0:a.actorID;return a==null?b("CometRelayEnvironmentFactory")["default"]:b("CometRelayEnvironmentFactory").getForActorID(String(a))}e.exports={getEnvironment:a}}),null);
__d("CometRouteRootWrapper.react",["CometBackupPlaceholder.react","CometErrorBoundary.react","CometErrorRoot.react","CometTransientDialogProvider.react","React"],(function(a,b,c,d,e,f){"use strict";function a(a){a=a.children;return b("React").jsx(b("CometErrorBoundary.react"),{fallback:function(){return b("React").jsx(b("CometErrorRoot.react"),{})},children:b("React").jsx(b("CometTransientDialogProvider.react"),{children:b("React").jsx(b("CometBackupPlaceholder.react"),{fallback:null,children:a})})})}e.exports=a}),null);
__d("CometRouterRouteTimeSpentMetaDataContext",["React"],(function(a,b,c,d,e,f){"use strict";a=b("React").createContext();e.exports=a}),null);
__d("useCometRouteTimeSpentMetaData",["CometRouterRouteTimeSpentMetaDataContext","React"],(function(a,b,c,d,e,f){"use strict";var g=b("React").useContext;function a(){var a=g(b("CometRouterRouteTimeSpentMetaDataContext"));return(a=a)!=null?a:null}e.exports=a}),null);
__d("useRoutePassthroughProps",["CometRouterRouteInfoContext","React"],(function(a,b,c,d,e,f){"use strict";var g=b("React").useContext;function a(){var a=g(b("CometRouterRouteInfoContext"));return a==null?void 0:a.passthroughProps}e.exports=a}),null);
__d("CometRouteRootRenderer.react",["BootloaderResource","CometRelay","CometRelayEntryPointEnvironmentProvider","CometRouteParams","CometRouteRootWrapper.react","React","useCometRouteTimeSpentMetaData","useRoutePassthroughProps"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("CometRelay").LazyLoadEntryPointContainer_DEPRECATED,h=b("CometRouteParams").useRouteParams,i=b("React").useMemo;function j(a){__p&&__p();var c=a.children,d=a.entryPoint,e=a.resource,f=a.routeProps,j=h(),k=b("useRoutePassthroughProps")(),l=b("useCometRouteTimeSpentMetaData")();a=i(function(){return{passthroughProps:k,routeParams:j,routeProps:f,timeSpentMetaData:l}},[k,j,f,l]);var m=i(function(){return{children:c,routeProps:f}},[c,f]);if(d){d=b("BootloaderResource").read(d);return b("React").jsx(g,{entryPoint:d,entryPointParams:a,environmentProvider:b("CometRelayEntryPointEnvironmentProvider"),props:m})}else{d=b("BootloaderResource").read(e);return b("React").jsx(d,{children:c,routeProps:f})}}function a(a){return b("React").jsx(b("CometRouteRootWrapper.react"),{children:b("React").jsx(j,babelHelpers["extends"]({},a,{routeProps:a.props}))})}e.exports=b("React").memo(a)}),null);
__d("CometRouterDispatcherContextFactory.react",["CometRouterDispatcherContext","React"],(function(a,b,c,d,e,f){"use strict";var g=b("React").useContext,h=b("React").useMemo;function a(a){var c=a.children,d=a.from,e=a.tracePolicy,f=g(b("CometRouterDispatcherContext"));f=h(function(){return f?f.withFrom(d,e):null},[f,d,e]);return f==null?c:b("React").jsx(b("CometRouterDispatcherContext").Provider,{value:f,children:c})}e.exports=a}),null);
__d("CometRouterRefreshKeyContext",["React"],(function(a,b,c,d,e,f){"use strict";a=b("React").createContext(null);e.exports=a}),null);
__d("CometRouterRouteMutableStateContext",["React"],(function(a,b,c,d,e,f){"use strict";a=b("React").createContext();e.exports=a}),null);
__d("CometRouterRootContextFactory.react",["CometRouterRenderTypeContext","CometRouterRouteContext","CometRouterRouteInfoContext","CometRouterRouteMutableStateContext","CometRouterRouteTimeSpentMetaDataContext","React"],(function(a,b,c,d,e,f){"use strict";function a(a){var c,d=a.children,e=a.renderType;a=a.routeInfo;return(c=b("React")).jsx(b("CometRouterRouteInfoContext").Provider,{value:a,children:c.jsx(b("CometRouterRenderTypeContext").Provider,{value:e,children:c.jsx(b("CometRouterRouteContext").Provider,{value:a.route,children:c.jsx(b("CometRouterRouteMutableStateContext").Provider,{value:a.mutableState,children:c.jsx(b("CometRouterRouteTimeSpentMetaDataContext").Provider,{value:a.timeSpentMetaData,children:d})})})})})}e.exports=a}),null);
__d("CometRouteRenderer.react",["CometRelay","CometRouterDispatcherContextFactory.react","CometRouterFocusRegion.react","CometRouteRootRenderer.react","CometRouteRootWrapper.react","CometRouterRefreshKeyContext","CometRouterRenderTypeContext","CometRouterRootContextFactory.react","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("CometRelay").EntryPointContainer;function a(a){__p&&__p();var c=a.children,d=a.renderType;a=a.routeInfo;var e=a.refreshKey,f=a.route,h=a.withFrame,i=f.hostableView,j=f.rootView;f=f.tracePolicy;var k=d==="main"?"rootView":d==="hosted"?"hostedView":"pushView",l=(h||k==="hostedView")&&i!=null;i=l&&i?i:j;l=b("React").jsx(b("CometRouterFocusRegion.react"),{children:b("React").jsx(b("CometRouterDispatcherContextFactory.react"),{from:l?"hostedView":k,tracePolicy:f,children:b("React").jsx(b("CometRouterRefreshKeyContext").Provider,{value:(j=e)!=null?j:null,children:b("React").jsx(b("CometRouteRootRenderer.react"),babelHelpers["extends"]({},i,{children:c}))})})});if(h){l=b("React").jsx(b("CometRouterDispatcherContextFactory.react"),{from:k,tracePolicy:h.config.tracePolicy,children:b("React").jsx(b("CometRouterRefreshKeyContext").Provider,{value:(f=e)!=null?f:null,children:b("React").jsx(b("CometRouteRootWrapper.react"),{children:b("React").jsx(g,{entryPointReference:h.preloadedEntryPoint,props:{children:b("React").jsx(b("CometRouterRenderTypeContext").Provider,{value:"hosted",children:l})}})})})})}return b("React").jsx(b("CometRouterRootContextFactory.react"),{renderType:d,routeInfo:a,children:l})}e.exports=a}),null);
__d("CometRouterPrerenderStateContext",["React"],(function(a,b,c,d,e,f){"use strict";a=b("React").createContext({main:null});e.exports=a}),null);
__d("buildCometRouterStateProvider",["CometRouterDispatcherContext","CometRouterLoadingContext","CometRouterPrerenderStateContext","CometRouterStateContext","CometRouteStoreContext","React","useCometConfirmationDialog"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("React").useEffect,h=b("React").useState;function a(a){__p&&__p();function c(){return{loadingState:a.getCurrentLoadingState(),routerPrerenderState:a.getCurrentRoutePrerenderState(),routerState:a.getCurrentRouterState()}}return function(d){__p&&__p();var e=h(function(){return c()}),f=e[0],i=e[1];e=b("useCometConfirmationDialog")();var j=e[0];g(function(){i(function(a){var b=c();return b.routerState!==a.routerState||b.routerPrerenderState!==a.routerPrerenderState||b.loadingState!==a.loadingState?b:a});var b=a.listen(function(){i(c())}),d=a.setUnloadListener(function(a,b,c,d,e,f){j({body:f,cancel:c,confirm:a,title:e},b,d)});return function(){b.cancel(),d.cancel()}},[]);e=d.children;return(d=b("React")).jsx(b("CometRouterDispatcherContext").Provider,{value:a.dispatcher,children:d.jsx(b("CometRouterLoadingContext").Provider,{value:f.loadingState,children:d.jsx(b("CometRouterStateContext").Provider,{value:f.routerState,children:d.jsx(b("CometRouterPrerenderStateContext").Provider,{value:f.routerPrerenderState,children:d.jsx(b("CometRouteStoreContext").Provider,{value:a.store,children:typeof e==="function"?e(f.routerState):e})})})})})}}e.exports=a}),null);
__d("CometRouteCache",["normalizeCometRouterUrl"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g={};function a(a,c){a=b("normalizeCometRouterUrl")(a);g[a]=c}function c(a){a=b("normalizeCometRouterUrl")(a);return g[a]}function d(a){Object.keys(g).forEach(function(b){b.startsWith(a)&&delete g[b]})}f={getRoute:c,install:a,invalidatePath:d};e.exports=f}),null);
__d("buildCometRouteFromDefinition",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c,d){if(a.__type==="pushView")return babelHelpers["extends"]({__type:"pushView"},a,{params:c,routePath:d,url:b});else if(a.isCometRootContainer===!0)return babelHelpers["extends"]({__type:"tab",isCometRootContainer:!0},a,{params:c,routePath:d,url:b});else return babelHelpers["extends"]({__type:"tab",isCometRootContainer:!1},a,{params:c,routePath:d,url:b})}e.exports=a}),null);
__d("buildRouteParams",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){return Object.keys(a).reduce(function(d,e){var f=a[e];if(f!=null&&(c==null||f[c]===!0)){d[e]=(e=b[e])!=null?e:f["default"]}return d},{})}e.exports=a}),null);
__d("normalizeCometRouterConstUri",["ConstUriUtils","isCometRouterUrl","memoizeStringOnly"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("memoizeStringOnly")(function(a){if(!b("isCometRouterUrl")(a))return a;var c=b("ConstUriUtils").getUri(a);c!=null&&(c=c.getUnqualifiedUri());c!=null&&(c=c.stripTrailingSlash());c!=null&&!c.getPath().startsWith("/")&&(c=c.setPath("/"+c.getPath()));return c!=null?c.toString():a});e.exports=a}),null);
__d("CometRouteMapper",["ConstUriUtils","buildCometRouteFromDefinition","buildRouteParams","normalizeCometRouterConstUri","recoverableViolation","stableStringify"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g={};f=function(a){return b("normalizeCometRouterConstUri")(a.getPath())};function h(a,c){return b("stableStringify")(b("buildRouteParams")(a,c,"significant"))}function i(a){var c=a.instanceParams,d=a.routeParams;a=a.routePath;c=b("buildRouteParams")(d,c,"path");return{pathParams:c,results:{},routeParams:d,routePath:a}}function j(a,c,d){__p&&__p();var e=h(c.routeParams,babelHelpers["extends"]({},c.pathParams,d));e=c.results[e];if(e==null)return null;if(e.type==="routeMatch")return j(a,e.routeMatch,d);if(e.type==="routeRedirect"){var f=b("ConstUriUtils").getUri(e.routeRedirect.url);e.routeRedirect.useCurrentParams===!0&&f!=null&&(f=f.addQueryParams(new Map(Object.entries(d))));f!=null&&(f=f.removeQueryParams(e.routeRedirect.strip));f=f!=null?f.toString():"";return k(f)}if(e.type==="routeDefinition"){f=babelHelpers["extends"]({},c.pathParams,d);return b("buildCometRouteFromDefinition")(e.routeDefinition,a,b("buildRouteParams")(c.routeParams,f,null),c.routePath)}b("recoverableViolation")("CometRouteMapper encountered an invalid result type "+e.type,"comet_infra");return null}function k(a){var c="",d="",e={};c=b("normalizeCometRouterConstUri")(a);a=b("ConstUriUtils").getUri(c);a!=null&&(e=Object.fromEntries(a.getQueryParams()),d=a.getPath());a=g[d];return a==null?null:j(c,a,e)}function l(a,c,d){__p&&__p();var e="",f={};a=b("normalizeCometRouterConstUri")(a);a=b("ConstUriUtils").getUri(a);a!=null&&(f=Object.fromEntries(a.getQueryParams()),e=a.getPath());a=g[e];a==null&&(a=g[e]=i(d[0]));var j=a;d.slice(1).forEach(function(a){var b=j;b=b.results;var c=h(j.routeParams,babelHelpers["extends"]({},j.pathParams,f));a=i(a);b[c]={routeMatch:a,type:"routeMatch"};j=a});e=h(j.routeParams,babelHelpers["extends"]({},j.pathParams,f));j.results[e]=c}function a(a,b,c){b={routeDefinition:b,type:"routeDefinition"};l(a,b,c)}function c(a,b,c){b={routeRedirect:b,type:"routeRedirect"};l(a,b,c)}function d(a){Object.keys(g).forEach(function(b){b.startsWith(a)&&delete g[b]})}f={getRoute:k,getURIPath:f,installRedirect:c,installRoute:a,invalidatePath:d};e.exports=f}),null);
__d("buildCometErrorRoute",["JSResource"],(function(a,b,c,d,e,f){"use strict";var g=b("JSResource")("CometErrorRoot.react").__setRef("buildCometErrorRoute");function a(a){return{__type:"tab",hostableView:{allResources:[g],props:{},resource:g},params:{},rootView:{allResources:[g],props:{},resource:g},routePath:null,tracePolicy:"comet.error",url:a}}e.exports=a}),null);
__d("replaceCometTransportMarkers",["JSResource","RequireDeferredReference"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a,c){__p&&__p();var d=c!==void 0?a[c]:a,e;if(Array.isArray(d))for(e=0;e<d.length;e++)g(d,e);else if(d&&typeof d==="object")if(d.__jsr)a[c]=b("JSResource").call(null,d.__jsr);else if(d.__dr)a[c]=new(b("RequireDeferredReference"))(d.__dr);else{for(var f in d)g(d,f);d.__map?a[c]=new Map(d.__map):d.__set&&(a[c]=new Set(d.__set))}}e.exports=g}),null);
__d("parseCometRouteFetchPayload",["recoverableViolation","replaceCometTransportMarkers"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a){__p&&__p();if(a==null)return null;if(a.type==="route_redirect"){var c=a.exports,d=a.redirect_url,e=a.redirect_result,f=a.route_match_infos;if(f!=null&&Array.isArray(f)&&f.length>0&&c!=null&&d!=null){b("replaceCometTransportMarkers")(c);return{redirectResult:g(e),redirectUrl:d,routeMatchInfos:f,routeRedirect:c,type:"routeRedirect"}}}if(a.type==="route_definition"){e=a.exports;d=a.route_match_infos;if(d!=null&&Array.isArray(d)&&d.length>0&&e!=null){b("replaceCometTransportMarkers")(e);return{routeDefinition:e,routeMatchInfos:d,timeSpentMetaData:a.time_spent_meta_data,type:"routeDefinition"}}}b("recoverableViolation")("parseCometRouteFetchPayload encountered a bad payload result: "+a,"comet_infra");return null}function a(a){return a==null||a.error==null?{error:!0}:{error:!1,result:g(a.result)}}e.exports=a}),null);
__d("fetchAnonymousCometRoute",["ix","Promise","Bootloader","JSScheduler","RelayAPIConfig","RelayPrefetchedStreamCache","Run","ServerJS","XHRRequest","bx","cometAsyncFetch","createChunkedResponseParser","getAsyncParams","gkx","parseCometRouteFetchPayload","promiseDone","qex","recoverableViolation","setTimeout","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h={},i={},j=null,k=[],l=2,m=500,n=15;function o(a){if(b("gkx")("1228552"))return b("Run").onAfterLoad(a);else return a()}function p(a){__p&&__p();if(typeof a==="object"){var c=a==null?void 0:a.payloads;s(a==null?void 0:a.sr_payload,a==null?void 0:a.jsmods);if(typeof c==="object"&&c!=null){var d={};Object.keys(c).forEach(function(a){d[a]=b("parseCometRouteFetchPayload")(c[a])});return d}}throw b("unrecoverableViolation")("Unable to find payloads in the payload","comet_infra")}function q(a,c){c===void 0&&(c=l);return a()["catch"](function(d){if(c>0)return new(b("Promise"))(function(d,e){b("setTimeout")(function(){b("promiseDone")(q(a,c-1),d,e)},m)});throw d})}function r(a){var c=function(){return b("cometAsyncFetch")("/ajax/bulk-route-definitions/",{data:{route_urls:a},method:"GET"})};return q(c).then(p)}function a(a){__p&&__p();if(i[a]!=null)return i[a];var c=new(b("Promise"))(function(b,c){k.push({reject:c,resolve:b,url:a})});i[a]=c;c["finally"](function(){return delete i[a]});j==null&&(j=o(function(){__p&&__p();return b("JSScheduler").scheduleSpeculativeCallback(function(){__p&&__p();j=null;var a=function(){__p&&__p();var a=k.splice(0,n);b("promiseDone")(r(a.map(function(a){a=a.url;return a})),function(c){a.forEach(function(a){var d=a.resolve;a=a.url;var e=c[a];e==null?(b("recoverableViolation")("Unable to find route for "+a,"comet_infra"),d({error:!0})):d(e)})},function(c){b("recoverableViolation")("Failed call to /ajax/bulk-route-definitions/: "+c.errorType+" "+c.errorMsg,"comet_infra"),a.forEach(function(a){a=a.resolve;return a({error:!0})})})};while(k.length>0)a()})}));return c}function c(a){__p&&__p();if(h[a]!=null)return h[a];var c=function(){__p&&__p();return new(b("Promise"))(function(c,d){__p&&__p();var e=!1,f=b("createChunkedResponseParser")(function(d){__p&&__p();var f;try{f=JSON.parse(d)}catch(a){e||b("recoverableViolation")("Unable to parse /ajax/route-definitions/ response "+d+", "+a,"comet_infra");c({error:!0});return}if((!f||!f.__type)&&!e){d="Bad payload for "+a;b("recoverableViolation")(d,"comet_infra");c({error:!0})}if(f.__type==="error_response"){c({error:!0});return}if(f.__type==="first_response"){if(e)throw b("unrecoverableViolation")("There cannot be two first responses to one request","comet_infra");e=!0;t(f);c(f.payload)}else if(f.__type==="preloader"){d=f.id;var g=f.result;g?b("RelayPrefetchedStreamCache").next(d,g):b("RelayPrefetchedStreamCache").error(d,{})}else if(f.__type==="preloader_error"){g=f.id;b("RelayPrefetchedStreamCache").error(g,{})}});new(b("XHRRequest"))("/ajax/route-definition/").setMethod("GET").setData(babelHelpers["extends"]({route_url:a},b("getAsyncParams")("GET"))).setResponseHandler(f).setErrorHandler(function(a){d(a)}).send()})};c=q(c).then(b("parseCometRouteFetchPayload"));h[a]=c;c["finally"](function(){return delete h[a]});return c}function s(a,b){a!=null&&v(a),b!=null&&u(b)}function t(a){__p&&__p();s(a.sr_payload,a.jsmods);if(a.preloaders&&a.preloaders.length)for(var a=a.preloaders,c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;b("RelayPrefetchedStreamCache").registerPreloader(e.preloaderID,e.queryID,e.variables,(e=e.actorID)!=null?e:b("RelayAPIConfig").actorID)}}function u(a){new(b("ServerJS"))().handle(a)}function v(a){g.add(a.ixData),b("bx").add(a.bxData),b("gkx").add(a.gkxData),b("qex").add(a.qexData),a.resource_map&&b("Bootloader").setResourceMap(a.resource_map),a.bootloadable&&b("Bootloader").enableBootload(a.bootloadable),a.allResources&&a.allResources.length&&b("Bootloader").loadResources(a.allResources)}e.exports={fetchAnonymousCometRouteForPreload:a,fetchAnonymousCometRouteForTransition:c,handleSRandJSModules:s,retryFetchOnError:q}}),null);
__d("notifyServerOnNavigation",["Promise","JSScheduler","cometAsyncFetch","fetchAnonymousCometRoute","parseCometRouteFetchPayload","promiseDone"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("fetchAnonymousCometRoute").handleSRandJSModules,h=b("fetchAnonymousCometRoute").retryFetchOnError;function a(a){var c=function(){return new(b("Promise"))(function(c,d){b("JSScheduler").scheduleLoggingPriCallback(function(){b("promiseDone")(b("cometAsyncFetch")("/ajax/navigation/",{data:{route_url:a},method:"GET"}),c,d)})})};return h(c).then(function(a){g(a.sr_payload,a.jsmods);return b("parseCometRouteFetchPayload")(a.payload)})}e.exports=a}),null);
__d("CometRouteStore",["Promise","CometRouteCache","CometRouteMapper","ConstUriUtils","buildCometErrorRoute","buildCometRouteFromDefinition","buildRouteParams","fetchAnonymousCometRoute","getCometRouteKey","normalizeCometRouterConstUri","notifyServerOnNavigation","recoverableViolation"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("fetchAnonymousCometRoute").fetchAnonymousCometRouteForPreload,h=b("fetchAnonymousCometRoute").fetchAnonymousCometRouteForTransition;function i(a,c){__p&&__p();if(c==null)return;if(c.type==="routeRedirect"){b("CometRouteMapper").installRedirect(a,c.routeRedirect,c.routeMatchInfos);i(c.redirectUrl,c.redirectResult);return}if(c.type==="routeDefinition"){b("CometRouteMapper").installRoute(a,c.routeDefinition,c.routeMatchInfos);return}b("recoverableViolation")("CometRouteStore encountered a bad fetch result: "+c.type,"comet_infra");return}function j(a,b){if(b.error)return;i(a,b.result)}function k(a,c){__p&&__p();if(c!=null&&c.type==="routeRedirect")return k(c.redirectUrl,c.redirectResult);if(c==null||c.type!=="routeDefinition")return{route:"UNMATCHED_TOKEN"};({});var d=b("ConstUriUtils").getUri(b("normalizeCometRouterConstUri")(a));d=d!=null?Object.fromEntries(d.getQueryParams()):{};var e=c.routeDefinition,f=c.routeMatchInfos;c=c.timeSpentMetaData;f=f[f.length-1];var g=f.instanceParams,h=f.routeParams;f=f.routePath;g=babelHelpers["extends"]({},g,d);return{initialTimeSpentMetaData:c,route:b("buildCometRouteFromDefinition")(e,a,b("buildRouteParams")(h,g,null),f)}}function l(a,c){return c.error?{route:b("buildCometErrorRoute")(a)}:k(a,c.result)}function m(a){var c=b("CometRouteCache").getRoute(a);if(c!=null)return c;c=b("CometRouteMapper").getRoute(a);if(c!=null){b("CometRouteCache").install(a,c);return c}return null}function a(a){var c=m(a);return c!=null?b("Promise").resolve(c):g(a).then(function(c){var d=l(a,c);c.error||(j(a,c),b("CometRouteCache").install(a,d.route));return d.route})}function c(a){var c=m(a);return c!=null?b("Promise").resolve({route:c}):h(a).then(function(c){var d=l(a,c);j(a,c);b("CometRouteCache").install(a,d.route);return d})}function d(a,c){return b("notifyServerOnNavigation")(c).then(function(d){var e=l(c,d),f=e.route;if(f!=="UNMATCHED_TOKEN"&&b("getCometRouteKey")(f)===b("getCometRouteKey")(a))return null;j(c,d);b("CometRouteCache").install(c,e.route);return f})}function f(a){var c="";a=b("ConstUriUtils").getUri(b("normalizeCometRouterConstUri")(a));c=a!=null?a.getPath():"";b("CometRouteMapper").invalidatePath(c);b("CometRouteCache").invalidatePath(c)}e.exports={fetch:a,fetchForNavigation:c,fetchForValidation:d,getRoute:m,invalidatePath:f,parseCometRouteFetchResult:k}}),null);
__d("getCometRouteScrollKey",["getCometEntityKey","stableStringify"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=typeof WeakMap==="function"?new WeakMap():new Map();function a(a){__p&&__p();var c=g.get(a);if(c!=null)return c;c=b("getCometEntityKey")(a);if(c!=null&&c.entity_type!=null&&c.entity_id!=null){c=c.entity_type+"||"+c.entity_id;g.set(a,c);return c}c=a.hostableView||a.rootView;var d=c.allResources[0]||c.resource;d=d.getModuleId();c=Object.keys(babelHelpers["extends"]({},c.props)).filter(function(a){return a.endsWith("ID")});d=d+"||"+b("stableStringify")(c);g.set(a,d);return d}e.exports=a}),null);
__d("getTimeSpentDataFromConfig",["ProfileCometSession","getCometEntityKey","uuid"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,c,d){__p&&__p();var e,f=a.timeSpentConfig,g=null;Boolean(f==null?void 0:f.has_search_sid)&&(g={search_sid:b("uuid")()});e=(e=b("getCometEntityKey")(a))==null?void 0:e.entity_id;if(e==null)return g;g=babelHelpers["extends"]({},g,{container_id:e});if(Boolean(f==null?void 0:f.has_profile_session_id)){f=b("ProfileCometSession").navigate(e,c,a,d);f!=null&&(g=babelHelpers["extends"]({},g,{profile_session_id:f}))}return g}e.exports=a}),null);
__d("CometDocumentScrollView.react",["BaseView.react","HiddenSubtreeContextProvider.react","React","stylex","useLayoutEffect_SAFE_FOR_SSR","usePrevious","useStable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("React").useCallback,h=b("React").useRef,i=b("React").useState,j={detached:{left:"j34wkznp",pointerEvents:"hzruof5a",position:"poy2od1o",top:"kr520xx4",userSelect:"abiwlrkh",width:"k4urcfbm"}},k=new Map(),l=null;function m(a,b){return!!(a.compareDocumentPosition(b)&Node.DOCUMENT_POSITION_FOLLOWING)}function n(){var a=null;k.forEach(function(b,c){a==null?a=c:a!=null&&c!=null&&m(a,c)&&(a=c)});return a}function o(a){return l==null||m(l,a)}function c(c){__p&&__p();var d=c.contextKey,e=d===void 0?null:d;d=c.hiddenWhenDetached;d=d===void 0?!1:d;var f=c.maintainScrollForContext,m=f===void 0?!1:f,p=c.onInitialScroll;f=babelHelpers.objectWithoutPropertiesLoose(c,["contextKey","hiddenWhenDetached","maintainScrollForContext","onInitialScroll"]);var q=h(),r=h({x:0,y:0}),s=b("useStable")(function(){return{}}),t=b("usePrevious")(e);c=i(!1);var u=c[0],v=c[1];c=i({x:0,y:0});var w=c[0],x=c[1],y=b("usePrevious")(u);b("useLayoutEffect_SAFE_FOR_SSR")(function(){__p&&__p();var a=q.current;if(a!=null){if(o(a)){if(l!=null){var b=k.get(l);b&&b(!1)}l=a}else v(!0);k.set(a,function(a){a||x(babelHelpers["extends"]({},r.current)),v(!a)});return function(){k["delete"](a);if(l===a){l=n();if(l!=null){var b=k.get(l);b&&b(!0)}}}}},[]);var z=g(function(b,c){a.scrollTo(b,c),typeof p==="function"&&p(b,c)},[p]);b("useLayoutEffect_SAFE_FOR_SSR")(function(){!u&&u!==y&&z(w.x,w.y)},[u,w,y,z]);b("useLayoutEffect_SAFE_FOR_SSR")(function(){if(e!==t){var a=m&&e in s?s[e]:{x:0,y:0};u?x(a):z(a.x,a.y)}},[e,s,u,m,t,z]);b("useLayoutEffect_SAFE_FOR_SSR")(function(){if(!u){var b=function(){var b=a.pageXOffset,c=a.pageYOffset;r.current={x:b,y:c};e!=null&&(s[e]={x:b,y:c})};window.addEventListener("scroll",b,{passive:!0});return function(){return window.removeEventListener("scroll",b,{passive:!0})}}},[u,e,s]);return b("React").jsx(b("HiddenSubtreeContextProvider.react"),{ignoreParent:!0,isBackgrounded:u,isHidden:u&&d,children:b("React").jsx(b("BaseView.react"),babelHelpers["extends"]({},f,u&&(d?{hidden:!0}:{"aria-hidden":!0,style:{left:-w.x,top:-w.y},xstyle:j.detached}),{ref:q}))})}e.exports=c}),null);
__d("CometInterOpApp.react",["CometBlueBridge.react","CometDocumentScrollView.react","CometRootContainer.react","CometRouteRenderer.react","CometRouterStateContext","React","VideoAutoplayManagerX.react","getCometRouteScrollKey","stylex","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";function a(){return b("React").jsx(b("VideoAutoplayManagerX.react"),{children:b("React").jsx(b("CometBlueBridge.react"),{children:b("React").jsx(b("CometRouterStateContext").Consumer,{children:function(a){if(a==null)throw b("unrecoverableViolation")("Cannot render comet app with no route provider","comet_infra");return b("React").jsx(b("CometDocumentScrollView.react"),{contextKey:b("getCometRouteScrollKey")(a.main.route),children:b("React").jsx(b("CometRootContainer.react"),{children:b("React").jsx("div",{className:"ehyd4je0 cbu4d94t j83agx80",children:b("React").jsx(b("CometRouteRenderer.react"),{renderType:"main",routeInfo:a.main})})})})}})})})}e.exports=a}),null);
__d("buildCometInterOpRouter",["Promise","AsyncRequest","CometRouteCache","CometRouteStore","JSScheduler","PageTransitions","PageTransitionsRegistrar","emptyFunction","fetchAnonymousCometRoute","getTimeSpentDataFromConfig","gkx","normalizeCometRouterUrl","parseCometRouteFetchPayload","removeFromArray","setTimeout","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("CometRouteStore").parseCometRouteFetchResult,h=b("fetchAnonymousCometRoute").handleSRandJSModules,i=function(){var a=[],c=[];return{get:function(d){d=a.lastIndexOf(b("normalizeCometRouterUrl")(d));if(d<0)return null;a.splice(0,d+1);c.splice(0,d);return c.shift()},set:function(d,e){c.push(e),a.push(b("normalizeCometRouterUrl")(d))}}}(),j=null,k={},l=[],m=15;function n(a){__p&&__p();if(!b("gkx")("1221835"))return b("Promise").resolve("UNMATCHED_TOKEN");var c=b("CometRouteCache").getRoute(a);if(c)return b("Promise").resolve(c);if(k[a]!=null)return k[a];c=new(b("Promise"))(function(b,c){l.push({reject:c,resolve:b,url:a})}).then(function(c){b("CometRouteCache").install(a,c);return c});k[a]=c;c["finally"](function(){return delete k[a]});j==null&&(j=b("JSScheduler").scheduleSpeculativeCallback(function(){__p&&__p();j=null;var c=function(){__p&&__p();var c=l.splice(0,m);new(b("AsyncRequest"))("/ajax/bulk-route-definitions/").setMethod("POST").setData({route_urls:c.map(function(a){a=a.url;return a})}).setHandler(function(d){__p&&__p();d=d.payload;var e=d.jsmods,f=d.payloads;d=d.sr_payload;h(d,e);c.forEach(function(c){var d=c.resolve;c=c.url;c=(c=f[c])!=null?c:{error:!0};c=b("parseCometRouteFetchPayload")(c);if(c.error)return d("UNMATCHED_TOKEN");c=g(a,c.result);return d(c.route)})}).setErrorHandler(function(){return c.forEach(function(a){a=a.resolve;return a("UNMATCHED_TOKEN")})}).setAllowCrossPageTransition(!0).send()};while(l.length>0)c()}));return c}var o=[];function a(a,c){__p&&__p();var d=[],e={main:{mutableState:{},route:a,timeSpentMetaData:c},routeKey:a.url},f={loading:!1};function g(a){f=babelHelpers["extends"]({cancel:b("emptyFunction"),canceledRef:{canceled:!1},loading:!0},a),d.forEach(function(a){return a()})}function h(a){__p&&__p();var c;c=(c=i.get(a.url))!=null?c:{extras:{replace:!1}};var h=b("getTimeSpentDataFromConfig")(a);c=c.extras;var j={main:{mutableState:{},passthroughProps:c.passthroughProps,referrer:{tracePolicy:(c=e)==null?void 0:c.main.route.tracePolicy},route:a,timeSpentMetaData:h},routeKey:a.url};c=a.url;g({nextState:j,nextUrl:c});b("setTimeout")(function(){e=j,f={loading:!1},d.forEach(function(a){return a()})},1)}function j(a,c){c===void 0&&(c={replace:!1});a=b("normalizeCometRouterUrl")(a);var d=c,e=d.onNavigate;e!=null&&b("PageTransitionsRegistrar").registerCompletionCallback(function(){e(!0)});i.set(a,{extras:c});b("PageTransitions").go(a,c.replace)}var k={go:j,goBack:function(){window.history.back()},goTo:function(a,b){b===void 0&&(b={replace:!1});return j(a.url,b)},popPushView:function(){window.history.back()},prefetchRouteDefinition:function(a){n(a)},preloadRoute:b("emptyFunction"),prerenderRoute:function(){return{cancel:function(){}}},withFrom:function(){return k}};c={fetchRoute:n,getRoute:b("CometRouteCache").getRoute,invalidatePath:b("CometRouteCache").invalidatePath};a={dispatcher:k,getCurrentLoadingState:function(){return f},getCurrentRoutePrerenderState:function(){return{main:null}},getCurrentRouterState:function(){if(!e)throw b("unrecoverableViolation")("CometRouter.getCurrentRouterState called without state","comet_infra");return e},goImpl:h,listen:function(a){d.push(a);return{cancel:function(){return b("removeFromArray")(d,a)}}},setUnloadListener:function(a){a;return{cancel:function(){}}},store:c};o.push(a);return a}a._instances=o;e.exports=a}),null);
__d("CometInterOpRoot",["AjaxPipeRequest","Arbiter","CometInterOpApp.react","CometRouteCache","PageEvents","PageTransitions","PageTransitionsRegistrar","React","ReactDOM","buildCometInterOpRouter","buildCometRouterStateProvider","ge","recoverableViolation","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("React").useEffect,h=3,i=null,j=null,k="",l=function(){var a=0;return{attach:function(){a+=1,a===1&&b("PageTransitionsRegistrar").registerHandler(n,h)},detach:function(){a-=1,a===0&&b("PageTransitionsRegistrar").removeHandler(n,h)},isAttached:function(){return a>0}}}();function m(a){return a.concurrentSafe===!0}function n(a){__p&&__p();if(!j||!l.isAttached())return!1;a=a.toString();a=b("CometRouteCache").getRoute(a);if(a!=null&&a!=="UNMATCHED_TOKEN"){i===m(a)?j.goImpl(a):p.loadRoute(a,k,null);b("PageTransitions").transitionComplete(!0);return!0}b("PageTransitionsRegistrar").registerHandler(n,h);return!1}function o(a){g(function(){l.attach();return function(){l.detach()}},[]);return a.children}var p={initRoute:function(a,c,d){b("CometRouteCache").install(c.url,c);j=j||b("buildCometInterOpRouter")(c,d);d=b("buildCometRouterStateProvider")(j);i=m(c);var e=i===!0?b("ReactDOM").createRoot(a):b("ReactDOM").createBlockingRoot(a);e.render(b("React").jsx(o,{children:b("React").jsx(d,{children:b("React").jsx(b("CometInterOpApp.react"),{})})}));var f=b("Arbiter").subscribe(b("PageEvents").AJAXPIPE_ONBEFORECLEARCANVAS,function(a,b){a=b.canvasID;a==="content"&&(j=null,e.unmount(),f.unsubscribe())})},loadRoute:function(a,c,d){__p&&__p();if(l.isAttached()&&i===m(a)){if(j!=null){b("CometRouteCache").install(a.url,a);j.goImpl(a);return}b("recoverableViolation")("CometInterOpRoot.loadRoute called with no router but attached.","comet_infra")}var e="content";b("AjaxPipeRequest").clearCanvas(e,!1);document.body!=null&&(document.body.className="");e=b("ge")(e);if(e==null)throw b("unrecoverableViolation")("Cannot find element to mount on","comet_ui");var f=document.createElement("div"),g=document.createElement("div");f.className=c;k=c;e.appendChild(g);g.appendChild(f);p.initRoute(f,a,d)}};e.exports=p}),null);